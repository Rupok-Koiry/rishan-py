!function(){"use strict";function e(e,t){return e+t}const{hasOwnProperty:t}={};function n(e,n){return t.call(n,e)}function i(){return(i=Object.assign||function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;t>r;r++)i[r-1]=arguments[r];return i.forEach((t=>{for(const i in t)n(i,t)&&(e[i]=t[i])})),e}).apply(void 0,arguments)}function r(e){return Array.isArray(e)}function o(e){return"object"==typeof e&&null!==e&&!r(e)}function a(e){if("keys"in Object&&"function"==typeof Object.keys)return Object.keys(e);const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}function s(e,t){return a(t).reduce(((n,i)=>(n[i]=e(t[i]),n)),{})}function c(e){return r(e)?e.map(c):o(e)?s(c,e):e}function l(e){return r(e)?e.filter((e=>null!=e&&!Number.isNaN(e))):Object.keys(e).reduce(((t,n)=>{const i=e[n];return null==i||Number.isNaN(i)||(t[n]=i),t}),{})}function d(e,t){for(let n=0;t.length>n;n++){const i=t[n];if(e(i))return i}}function u(e,t){for(let n=t.length-1;n>=0;n--)if(e(t[n]))return t[n]}function p(e){return e}function m(e,t){return a(t).forEach((n=>{e(t[n],n)}))}function h(){return Math.random().toString(36).substring(2)}function f(e){const t=h();return n(t,e)?f(e):t}function g(e,t,n){const i=function(e,t){const n="string"==typeof e?e.split("."):e;let i=0,r=t;for(;r&&n.length>i;)r=r[n[i++]];return r}(t,n);return null!=i?i:e}function v(e,t){return-1!==t.indexOf(e)}function _(e){return 0===(r(e)?e:Object.keys(e)).length}function w(e){return!e}function y(e){return!!e}function b(e){return e.length>0?e[e.length-1]:void 0}function k(e,t){return a(t).reduce(((n,i)=>(Object.defineProperty(n,e(i),{value:t[i],enumerable:!0}),n)),{})}function E(e,t){if(_(t))return e;const i={};return m(((a,s)=>{if(n(s,t))if(o(e[s])&&o(t[s]))i[s]=E(e[s],t[s]);else if(r(e[s])&&r(t[s])){const n=Math.max(e[s].length,t[s].length);i[s]=Array(n);for(let r=0;n>r;r++)r in t[s]?i[s][r]=t[s][r]:r in e[s]&&(i[s][r]=e[s][r])}else i[s]=t[s];else i[s]=e[s]}),e),m(((e,r)=>{n(r,i)||(i[r]=t[r])}),t),i}function C(e){if(0===e.length)return{};const[t,...n]=e;return n.reduce(((e,t)=>E(e,t)),t)}function I(e){return function(e,t){const i={};return function(){const r=e.apply(void 0,arguments);if(n(r,i))return i[r];const o=t.apply(void 0,arguments);return i[r]=o,o}}(p,e)}function x(){}function L(e,t){return e.reduce(((e,n)=>(e[n]=t[n],e)),{})}function A(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function T(e,t){if(A(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;for(let r=0;i.length>r;r++)if(!n(i[r],t)||!A(e[i[r]],t[i[r]]))return!1;return!0}function P(t){return t.reduce(e,0)}function z(e){return Array.prototype.slice.call(e)}function O(e){return a(e).map((t=>[t,e[t]]))}const S="not_ready",M="ready",N="bootstrapped";var D=Object.freeze({__proto__:null,FRA_A:"fra-a",FRA_B:"fra-b",FRA:"fra",DAL:"dal"});const j=e=>(e=>{const t="string"==typeof e?parseInt(e,10):e;return(e=>"number"==typeof e&&e>=0)(t)?t:null})(void 0!==e.group?e.group:e.skill);var q="__test_storage_support__",B="@@test",W=function(e){void 0===e&&(e="local");try{var t="session"===e?window.sessionStorage:window.localStorage;return t.setItem(q,B),t.getItem(q)!==B?!1:(t.removeItem(q),!0)}catch(e){return!1}},H=function(){var e=Object.create(null);return{getItem:function(t){var n=e[t];return"string"==typeof n?n:null},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]},clear:function(){e=Object.create(null)}}}();const F=e=>O(e).map((e=>e.map(encodeURIComponent).join("="))).join("&"),R=e=>function(e){return e.reduce(((e,t)=>{let[n,i]=t;return e[n]=i,e}),{})}(e.split("&").filter(Boolean).map((e=>e.split("=").map((e=>decodeURIComponent(e.replace("+","%20")))))).map((e=>2===e.length?e:[e[0],""]))),V=/(?:[^:]+:\/\/)?([^/\s]+)/;const G=/[^:]+:\/\/[^(/|?)\s]+/,U=e=>{const t=e.match(G);return t&&t[0]},Y=/.*?\?([^#]+)/,X=e=>{const t=e.match(Y);return t?"?"+t[1]:""},J=e=>e.replace(/^\?/,""),$=e=>{if(null===U(e))return R(J(e));const t=J(X(e));return t?R(t):{}},K=/^(?:https?:)?\/\/[^/]+\/([^?#]+)/,Z=e=>{const t=e.match(K);return"/"+(t&&t[1]||"")},Q=e=>e.replace(/\w/g,"$&[\\r\\n\\t]*"),ee=(RegExp("^[\0-]*("+Q("javascript")+"|"+Q("data")+"):","i"),/^((http(s)?:)?\/\/)/),te=(e,t)=>{if(-1===e.indexOf("?"))return e;const n=$(e);if(_(n))return e;if(Object.keys(n).every((e=>!t.includes(e))))return e;t.forEach((e=>delete n[e]));const[i]=e.split("?"),r=((e,t)=>{if(0===Object.keys(t).length)return e;const n=U(e),i=Z(e),r=X(e)?$(e):{},o=F({...r,...t});return e.indexOf("#")>-1?""+n+i+"?"+o+"#"+e.split("#")[1]:""+n+i+"?"+o})(i,n);return e.indexOf("#")>-1?r+"#"+e.split("#")[1]:r},ne=e=>"https://"+(e=>e.replace(ee,""))(e),ie=()=>{return e="cw_configurator",t=window.location.search,$(t)[e]||W("session")&&!!window.sessionStorage.getItem("cw_configurator");var e,t};var re=e=>(t,n)=>{if(0!==t)return;if("function"!=typeof e)return n(0,(()=>{})),void n(2);let i,r=!1;n(0,(e=>{r||(r=2===e,r&&"function"==typeof i&&i())})),r||(i=e((e=>{r||n(1,e)}),(e=>{r||void 0===e||(r=!0,n(2,e))}),(()=>{r||(r=!0,n(2))})))};const oe=e=>(t,n)=>{if(0!==t)return;let i,r;function o(e,t){1===e&&(r||i)(1,t),2===e&&(r&&r(2),i&&i(2))}e(0,((e,t)=>{if(0===e)i=t,n(0,o);else if(1===e){const e=t;r&&r(2),e(0,((e,t)=>{0===e?(r=t,r(1)):1===e?n(1,t):2===e&&t?(i&&i(2),n(2,t)):2===e&&(i?(r=void 0,i(1)):n(2))}))}else 2===e&&t?(r&&r(2),n(2,t)):2===e&&(r?i=void 0:n(2))}))};var ae=function(e,t){return e===t};function se(e){return void 0===e&&(e=ae),function(t){return function(n,i){if(0===n){var r,o,a=!1;t(0,(function(t,n){0===t&&(o=n),1===t?a&&e(r,n)?o(1):(a=!0,r=n,i(1,n)):i(t,n)}))}}}}var ce=e=>t=>(n,i)=>{if(0!==n)return;let r;t(0,((t,n)=>{0===t?(r=n,i(t,n)):1===t?e(n)?i(t,n):r(1):i(t,n)}))};var le=e=>t=>{let n;t(0,((t,i)=>{0===t&&(n=i),1===t&&e(i),1!==t&&0!==t||n(1)}))};const de=(e,t,n)=>(i,r)=>{if(0!==i)return;let o=!1;const a=e=>{r(1,e)};r(0,(i=>{2===i&&(o=!0,e.removeEventListener(t,a,n))})),o||e.addEventListener(t,a,n)};var ue=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return(e,n)=>{if(0!==e)return;const i=t.length,r=Array(i);let o=0,a=0;const s=e=>{if(0!==e)for(let t=0;i>t;t++)r[t]&&r[t](e)};for(let e=0;i>e;e++)t[e](0,((t,c)=>{0===t?(r[e]=c,1==++o&&n(0,s)):2===t?(r[e]=void 0,++a===i&&n(2)):n(t,c)}))}};function pe(e,t){return re((n=>(e.on(t,n),()=>{e.off(t,n)})))}!function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());var me=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];let i=t[0];for(let e=1,n=t.length;n>e;e++)i=t[e](i);return i};var he=e=>t=>(n,i)=>{if(0!==n)return;let r;t(0,((t,n)=>{0===t?(r=n,i(0,((e,t)=>{0!==e&&r(e,t)})),i(1,e)):i(t,n)}))};var fe=e=>t=>(n,i)=>{0===n&&t(0,((t,n)=>{i(t,1===t?e(n):n)}))};function ge(e){return t=>oe(fe(e)(t))}var ve=function(){};function _e(e,t){0===e&&t(0,ve)}function we(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){if(0===e){var i=!1;for(n(0,(function(e){2===e&&(i=!0,t.length=0)}));0!==t.length;)n(1,t.shift());i||n(2)}}}function ye(e){return function(t,n){if(0===t){var i,r,o,a=0;e(0,(function(e,t){if(0===e&&(o=t),1===e){var s=[r,t];i=s[0],r=s[1],2>++a?o(1):n(1,[i,r])}else n(e,t)}))}}}var be=function(){},ke={};function Ee(e){var t,n,i=[],r=!1,o=ke;return function(a,s){if(0===a){if(o!==ke)return s(0,be),r&&s(1,n),void s(2,o);i.push(s);var c=function(e,n){if(2!==e)o===ke&&t(e,n);else{var r=i.indexOf(s);-1!==r&&i.splice(r,1)}};1!==i.length?(s(0,c),r&&o===ke&&s(1,n)):e(0,(function(e,a){if(0===e)return t=a,void s(0,c);1===e&&(r=!0,n=a);var l=i.slice(0);2===e&&(o=a,i=null),l.forEach((function(t){t(e,a)}))}))}}}var Ce=e=>t=>(n,i)=>{if(0!==n)return;let r,o=0;t(0,((t,n)=>{0===t?(r=n,i(t,n)):1===t&&e>o?(o++,r(1)):i(t,n)}))};const Ie=function(e){return void 0===e&&(e={}),t=>{"function"==typeof e&&(e={next:e});let n,{next:i,error:r,complete:o}=e;t(0,((e,t)=>{0===e&&(n=t),1===e&&i&&i(t),1!==e&&0!==e||n(1),2===e&&!t&&o&&o(),2===e&&t&&r&&r(t)}));return()=>{n&&n(2)}}};var xe=e=>t=>(n,i)=>{if(0!==n)return;let r,o=0;function a(t,n){e>o&&r(t,n)}t(0,((t,n)=>{0===t?(r=n,i(0,a)):1===t?e>o&&(o++,i(t,n),o===e&&(i(2),r(2))):i(t,n)}))};const Le={},Ae=e=>t=>(n,i)=>{if(0!==n)return;let r,o,a=!1,s=Le;t(0,((t,n)=>{if(0===t)return r=n,e(0,((e,t)=>0===e?(o=t,void o(1)):1===e?(s=void 0,o(2),r(2),void(a&&i(2))):void(2===e&&(o=null,t&&(s=t,r(2),a&&i(e,t)))))),a=!0,i(0,((e,t)=>{s===Le&&(2===e&&o&&o(2),r(e,t))})),void(s!==Le&&i(2,s));2===t&&o(2),i(t,n)}))};function Te(e){return new Promise((function(t,n){Ie({next:t,error:n,complete:function(){var e=Error("No elements in sequence.");e.code="NO_ELEMENTS",n(e)}})(function(e){return function(t,n){if(0===t){var i,r,o=!1,a=!1;e(0,(function(e,t){return 0===e?(i=t,void n(0,(function(e,t){2===e&&(a=!0),i(e,t)}))):1===e?(o=!0,r=t,void i(1)):void(2===e&&!t&&o&&(n(1,r),a)||n(e,t))}))}}}(e))}))}var Pe=function(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}((function(e,t){function n(e,t){return e===t}function i(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var i=t.length,r=0;i>r;r++)if(!e(t[r],n[r]))return!1;return!0}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=null,o=null;return function(){return i(t,r,arguments)||(o=e.apply(null,arguments)),r=arguments,o}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),a=0;t>a;a++)i[a]=arguments[a];var s=0,c=i.pop(),l=o(i),d=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(n)),u=r((function(){for(var e=[],t=l.length,n=0;t>n;n++)e.push(l[n].apply(null,arguments));return d.apply(null,e)}));return u.resultFunc=c,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=a,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if("object"!=typeof e)throw Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[n[i]]=t,e}),{})}))};var s=t.createSelector=a(r)})),ze=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Oe=function(){function e(){ze(this,e),this._cache={}}return e.prototype.set=function(e,t){this._cache[e]=t},e.prototype.get=function(e){return this._cache[e]},e.prototype.remove=function(e){delete this._cache[e]},e.prototype.clear=function(){this._cache={}},e}();(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.cacheSize;if(ze(this,e),void 0===n)throw Error("Missing the required property `cacheSize`.");if(!Number.isInteger(n)||0>=n)throw Error("The `cacheSize` property must be a positive integer value.");this._cache={},this._cacheOrdering=[],this._cacheSize=n}e.prototype.set=function(e,t){(this._cache[e]=t,this._cacheOrdering.push(e),this._cacheOrdering.length>this._cacheSize)&&this.remove(this._cacheOrdering[0])},e.prototype.get=function(e){return this._cache[e]},e.prototype.remove=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1),delete this._cache[e]},e.prototype.clear=function(){this._cache={},this._cacheOrdering=[]}})(),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.cacheSize;if(ze(this,e),void 0===n)throw Error("Missing the required property `cacheSize`.");if(!Number.isInteger(n)||0>=n)throw Error("The `cacheSize` property must be a positive integer value.");this._cache={},this._cacheOrdering=[],this._cacheSize=n}e.prototype.set=function(e,t){(this._cache[e]=t,this._registerCacheHit(e),this._cacheOrdering.length>this._cacheSize)&&this.remove(this._cacheOrdering[0])},e.prototype.get=function(e){return this._registerCacheHit(e),this._cache[e]},e.prototype.remove=function(e){this._deleteCacheHit(e),delete this._cache[e]},e.prototype.clear=function(){this._cache={},this._cacheOrdering=[]},e.prototype._registerCacheHit=function(e){this._deleteCacheHit(e),this._cacheOrdering.push(e)},e.prototype._deleteCacheHit=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1)}}();function Se(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];var i=Oe;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,o=void 0;"function"==typeof n?(console.warn('[re-reselect] Deprecation warning: "selectorCreator" argument is discouraged and will be removed in the upcoming major release. Please use "options.selectorCreator" instead.'),r=new i,o=n):(r=n.cacheObject||new i,o=n.selectorCreator||Pe.createSelector);var a=function(){var n=e.apply(void 0,arguments);if("string"==typeof n||"number"==typeof n){var i=r.get(n);return void 0===i&&(i=o.apply(void 0,t),r.set(n,i)),i.apply(void 0,arguments)}};return a.getMatchingSelector=function(){var t=e.apply(void 0,arguments);return r.get(t)},a.removeMatchingSelector=function(){var t=e.apply(void 0,arguments);r.remove(t)},a.clearCache=function(){r.clear()},a.resultFunc=t[t.length-1],a}}const Me=(e,t)=>t,Ne=(e,t)=>(e=>e.entities.chats.byIds)(e)[t],De=Se([(e,t)=>Ne(e,t).events.orderedIds,(e,t)=>Ne(e,t).events.byIds],((e,t)=>e.map((e=>t[e]))))(Me),je=Se([Ne,De],((e,t)=>({...e,events:t})))(Me),qe=e=>e.entities.users.byIds,Be=e=>qe(e)[(e=>e.session.id)(e)],We=(e,t)=>qe(e)[t],He=e=>Be(e).id,Fe=(Se([De,He],((e,t)=>u((e=>{let{delivered:n,author:i}=e;return n&&i===t}),e)))(Me),Se([De,He],((e,t)=>u((e=>{let{seen:n,author:i}=e;return n&&i===t}),e)))(Me),{boosters:!0,form:!0,system_message:!0});Pe.createSelector([De,e=>Be(e).id],((e,t)=>{return function(e,t,n){for(let i=t;i>=0;i--)if(e(n[i]))return i;return-1}((e=>e.author===t&&"message"===e.type&&!(e.properties&&"file"===e.properties.serverType)||!0===e.seen&&!Fe[e.type]&&!!e.serverId),(n=e).length-1,n);var n})),Se([(e,t)=>Ne(e,t).participants,qe],((e,t)=>e.map((e=>t[e]))))(Me);function Re(e,t){if(void 0===t)return e.application;return e.application[t]}var Ve=(e,t)=>{m(((e,n)=>{t.style[n]=e}),e)},Ge=(e,t)=>{m(((e,n)=>{"style"!==n?t.setAttribute(n,e):Ve(e,t)}),e)};const Ue=()=>!!document.documentElement.currentStyle,Ye=(e,t)=>{const i=window.getComputedStyle(t),r="border-box"===i.boxSizing,o=L(e,i);if(Ue()&&r&&n("width",o)&&null!==o.width){o.width=P([o.width,i.paddingLeft,i.paddingRight,i.borderLeftWidth,i.borderRightWidth].map(parseFloat))+"px"}if(Ue()&&r&&n("height",o)&&null!==o.height){o.height=P([o.height,i.paddingTop,i.paddingBottom,i.borderTopWidth,i.borderBottomWidth].map(parseFloat))+"px"}return o};function Xe(){return new Promise((e=>{const t=()=>{document.body?e(document.body):setTimeout(t,100)};t()}))}function Je(e){const{parentNode:t}=e;t&&t.removeChild(e)}const $e=(e,t)=>{const n=document.createElement(e);return Ge(t,n),n},Ke="chat-widget",Ze="chat-widget-minimized",Qe="LiveChat chat widget",et="OpenWidget widget",tt={opacity:0,visibility:"hidden",zIndex:-1},nt={opacity:1,visibility:"visible",zIndex:2147483639},it={id:Ke+"-container",style:{...tt,position:"fixed",bottom:0,width:0,height:0,maxWidth:"100%",maxHeight:"100%",minHeight:0,minWidth:0,backgroundColor:"transparent",border:0,overflow:"hidden"}},rt={id:"livechat-eye-catcher",style:{position:"fixed",visibility:"visible",zIndex:2147483639,background:"transparent",border:0,padding:"10px 10px 0 0",float:"left",marginRight:"-10px",webkitBackfaceVisibility:"hidden"}},ot={style:{position:"absolute",display:"none",top:"-5px",right:"-5px",width:"16px",lineHeight:"16px",textAlign:"center",cursor:"pointer",textDecoration:"none",color:"#000",fontSize:"20px",fontFamily:"Arial, sans-serif",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.5)"}},at={id:"livechat-eye-catcher-img",style:{display:"block",overflow:"hidden",cursor:"pointer"}},st={alt:"",style:{display:"block",border:0,float:"right"}},ct={position:"absolute",top:"0px",left:"0px",bottom:"0px",right:"0px"},lt={id:Ke,name:Ke,title:Qe,style:{width:"100%",height:"100%","min-height":"0px","min-width":"0px",margin:"0px",padding:"0px","background-image":"none","background-position-x":"0%","background-position-y":"0%","background-size":"initial","background-attachment":"scroll","background-origin":"initial","background-clip":"initial","background-color":"rgba(0, 0, 0, 0)","border-width":"0px",float:"none","color-scheme":"normal"}},dt={...lt,id:Ze,name:Ze},ut=e=>"lc-aria-announcer-"+e;function pt(e){if("Google Inc."!==navigator.vendor||"Win32"!==navigator.platform)return;const{frame:t}=e,n=function(e,t){let n;return function(){clearTimeout(n);for(var i=arguments.length,r=Array(i),o=0;i>o;o++)r[o]=arguments[o];n=setTimeout.apply(void 0,[t,e].concat(r))}}(100,(()=>{Ve(Ye(["width"],t),t),requestAnimationFrame((()=>{Ve({width:lt.style.width},t)}))}));document.addEventListener("scroll",n);const i=()=>{e.off("unbind",i),document.removeEventListener("scroll",n)};e.on("unbind",i)}function mt(){return e=/^Mac/,null!=window.navigator&&e.test(window.navigator.platform);var e}const ht=e=>{let t=!1,n=null;function i(t){e.state.application.visibility.interactionModality===t&&t===n||(e.call("setInteractionModality",t),n=t)}function r(e){t=!0,function(e){return!(e.metaKey||!mt()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||"Alt-Meta"===e.key)}(e)&&i("keyboard")}function o(e){i("pointer"),"mousedown"!==e.type&&"pointerdown"!==e.type||(t=!0)}function a(e){e.target!==window&&e.target!==document&&(t||i("keyboard"),t=!1)}function s(){t=!1}return document.addEventListener("keydown",r,!0),document.addEventListener("keyup",r,!0),window.addEventListener("focus",a,!0),window.addEventListener("blur",s,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",o,!0),document.addEventListener("pointermove",o,!0),document.addEventListener("pointerup",o,!0)):(document.addEventListener("mousedown",o,!0),document.addEventListener("mousemove",o,!0),document.addEventListener("mouseup",o,!0)),()=>{document.removeEventListener("keydown",r,!0),document.removeEventListener("keyup",r,!0),window.removeEventListener("focus",a,!0),window.removeEventListener("blur",s,!1),"undefined"!=typeof PointerEvent?(document.removeEventListener("pointerdown",o,!0),document.removeEventListener("pointermove",o,!0),document.removeEventListener("pointerup",o,!0)):(document.removeEventListener("mousedown",o,!0),document.removeEventListener("mousemove",o,!0),document.removeEventListener("mouseup",o,!0))}},ft=function(e,t){return void 0===t&&(t=!1),t&&e.__unsafeProperties.group.hasCustomMobileSettings},gt=(e,t)=>{const n=e.__unsafeProperties.group;return ft(e,t)?n.screenPositionOnMobile:n.screenPosition},vt=(e,t)=>{const n=e.__unsafeProperties.group;return ft(e,t)?{x:n.offsetXOnMobile,y:n.offsetYOnMobile}:{x:n.offsetX,y:n.offsetY}};const _t="new_message",wt=e=>"function"==typeof e.start&&"function"==typeof e.stop,yt=e=>{wt(e)?e.start(0):e.noteOn(0)},bt=()=>{const e=new(window.AudioContext||window.webkitAudioContext);let t=!0,n=[];const i=t=>new Promise(((n,i)=>{e.decodeAudioData(t,n,i)})),r=t=>({play:()=>{const n=e.createBufferSource();n.connect(e.destination),n.buffer=t;return{playback:new Promise(((t,i)=>{if(n.onended=()=>t(),yt(n),"running"!==e.state){const t=Error("Playback failed, AudioContext is in incorrect state '"+e.state+"'");t.name="PlaybackError",i(t)}})),stop(){(e=>{wt(e)?e.stop(0):e.noteOff(0)})(n)}}}});return{preload:e=>(e=>new Promise(((t,n)=>{const i=new XMLHttpRequest;i.onload=()=>{t(i.response)},i.onerror=n,i.open("GET",e),i.responseType="arraybuffer",i.send()})))(e).then(i).then(r),playSound:e=>{const i=e.play();return t&&n.push(i),i.playback},unlock:()=>new Promise((i=>{const r=()=>{document.removeEventListener("click",r,!0),t&&(n.forEach((e=>{e.stop()})),n=[],t=!1),e.resume(),(()=>{const t=e.createBuffer(1,1,22050),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),yt(n)})(),i()};document.addEventListener("click",r,!0)}))}};const kt=/\.(\w+)$/i,Et=new Audio,Ct={mp3:"audio/mpeg",ogg:"audio/ogg"},It=e=>{const t=(e=>{const t=e.match(kt);return t?t[1].toLowerCase():""})(e);return t in Ct&&""!==Et.canPlayType(Ct[t])},xt=e=>new Promise(((t,n)=>{const i=new Audio(e);i.onloadeddata=()=>{t(i)},i.onerror=n})),Lt=e=>{const t=e.play();return(n=t)&&"function"==typeof n.then?t:Promise.resolve();var n};const At=()=>"function"==typeof window.webkitAudioContext||"function"==typeof window.AudioContext?(()=>{const e=bt(),t=I((t=>{const n=e.preload(t);return n.catch(x),n}));return{play:n=>{const i=t(n).then(e.playSound);return i.catch(x),i},preload:t,unlock:()=>e.unlock()}})():(()=>{const e=I(xt);return{play:t=>e(t).then(Lt),preload:e,unlock:()=>Promise.resolve()}})(),Tt=e=>Object.keys(e).reduce(((t,n)=>{const i=d((e=>It(e)),r(o=e[n])?o:[o]);var o;return t[n]=i,t}),{});const Pt=()=>{const e=(e=>{const t=At(),n=Tt(e);return{play:e=>{t.play(n[e]).then(x,x)},preload:e=>{t.preload(n[e]).then(x,x)},unlock:()=>t.unlock()}})({[_t]:["https://cdn.livechatinc.com/widget/staging/static/media/new_message.CTorF0S8.ogg","https://cdn.livechatinc.com/widget/staging/static/media/new_message.C32z5SiC.mp3"]});return e.unlock().then((()=>function(e,t){let n=0;return function(){const i=Date.now();e>i-n||(n=Date.now(),t.apply(void 0,arguments))}}(2e3,(t=>{e.play(t)}))))},zt=e=>!!e&&/native code/.test(e+""),Ot=()=>v(navigator.platform,["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"])&&v("Version/15",navigator.userAgent),St=()=>/mobile/gi.test(navigator.userAgent)&&!("MacIntel"===navigator.platform&&v("iPad",navigator.userAgent)),Mt=()=>v("Chrome",navigator.userAgent),Nt=()=>{const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):0},Dt=()=>/Firefox/.test(navigator.userAgent),jt=(e,t)=>Re(e,"visibility").state===t;!function(e){const t=function(e){try{return window.localStorage}catch(t){return"SecurityError"===t.name&&e?e:W()?window.localStorage:H}}(e)}();const qt=()=>{const{all:e,...t}={all:n=n||new Map,on:function(e,t){var i=n.get(e);i?i.push(t):n.set(e,[t])},off:function(e,t){var i=n.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var i=n.get(e);i&&i.slice().map((function(e){e(t)})),(i=n.get("*"))&&i.slice().map((function(n){n(e,t)}))}};var n;return{...t,off:(n,i)=>{n?t.off(n,i):e.clear()},once:(e,n)=>{t.on(e,(function i(r,o){t.off(e,i),n(r,o)}))}}};function Bt(e,t){let{retriesCount:n=1/0,minTime:i=100,maxTime:r=1e4}=void 0===t?{}:t;const o=(e=>{let{min:t=1e3,max:n=5e3,jitter:i=.5}=e,r=0;return{duration:()=>{let e=t*Math.pow(2,r++);if(i){const t=Math.random(),n=Math.floor(t*i*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,n)},reset:()=>{r=0}}})({min:i,max:r,jitter:0});return new Promise(((t,i)=>{let r=0;const a=()=>e().then(t,(()=>{n===1/0||r++<n?setTimeout(a,o.duration()):i(Error("Maximum retries count ("+n+") reached"))}));a()}))}Object.freeze({success:!0});const Wt=e=>e.map((e=>{switch(e.type){case"group_chooser":return{...e,options:e.options.map((e=>{let{group_id:t,...n}=e;return{...n,groupId:t}}))};case"rating":{const{comment_label:t,...n}=e;return{...n,commentLabel:t}}default:return e}})),Ht=e=>{const t=e.map(((e,t)=>({...e,id:t+""})));return Wt(t)},Ft=e=>({id:e.id,fields:!("id"in e.fields[0])?Ht(e.fields):Wt(e.fields)}),Rt={};function Vt(e,t){let{query:n={},jsonpParam:i="jsonp",callbackName:r}=void 0===t?{}:t;return new Promise(((t,o)=>{Xe().then((a=>{const s=document.createElement("script"),c=r||f(Rt);Rt[c]=!0;const l="__"+c;window[l]=e=>{delete Rt[c],delete window[l],Je(s),t(e)},s.src=e+"?"+F({...n,[i]:l}),s.addEventListener("error",(()=>{setTimeout((()=>o(Error("JSONP request failed."))),100)})),a.appendChild(s)}))}))}const Gt=/\.([a-z]{1,})$/i,Ut=e=>{let{__priv:t}=e;const n={enabled:!0,x:parseInt(t.group["embedded_chat.eye_grabber.x"])+15,y:parseInt(t.group["embedded_chat.eye_grabber.y"]),src:ne(t.group["embedded_chat.eye_grabber.path"])};if(-1!==n.src.indexOf("/default/eyeCatchers/")){const e=n.src.match(Gt)[1];n.srcset={"1x":n.src,"2x":n.src.replace(RegExp("\\."+e,"i"),"-2x."+e)}}return n},Yt=(e,t)=>{const n="get_dynamic_configuration"===e?"v3.6":"v3.4";return(e=>{let{region:t}=e;return"https://api"+(e=>e&&"dal"!==e?"-"+e:"")(t)+".staging.livechatinc.com"})(t)+"/"+n+"/customer/action/"+e},Xt=function(e,t){let{validateDefaultWidget:n=!0}=void 0===t?{}:t;return Vt(Yt("get_dynamic_configuration",e),{query:{license_id:e.licenseId,client_id:null!="c5e4f61e1a6c3b1521b541bc5c5a2ac5"?"c5e4f61e1a6c3b1521b541bc5c5a2ac5":"",url:te(e.url,["cw_configurator"]),..."number"==typeof e.groupId&&{group_id:e.groupId},...e.channelType&&{channel_type:e.channelType},...e.skipCodeInstallationTracking&&{test:1},...e.productName&&{origin:e.productName},...e.integrationName&&{implementation_type:e.integrationName}}}).then((t=>{if(t.error)switch(t.error.type){case"misdirected_request":return Xt({...e,region:t.error.data.region});case"license_not_found":{if("direct_link"===e.channelType){const t=F({utm_source:"expired_chat_link",utm_medium:"referral",utm_campaign:"lc_"+e.licenseId});window.location.replace("https://www.livechat.com/expired-chat-link/?"+t)}const t=Error("License not found");throw t.code="LICENSE_NOT_FOUND",t}default:{const e=Error(t.error.message);throw e.code=t.error.type.toUpperCase(),e}}if(n&&"livechat"!==t.default_widget){const e=Error("The 'default_widget' is not 'livechat', but instead: '"+t.default_widget+"'");throw e.code="DEFAULT_WIDGET_NOT_LIVECHAT",e.organizationId=t.organization_id,e.defaultWidget=t.default_widget,e}if(!t.livechat_active){if("direct_link"===e.channelType){const t=F({utm_source:"expired_chat_link",utm_medium:"referral",utm_campaign:"lc_"+e.licenseId});window.location.replace("https://www.livechat.com/expired-chat-link/?"+t)}const t=Error("License expired");throw t.code="LICENSE_EXPIRED",t}if(!t.livechat.domain_allowed){const e=Error("Current domain is not added to the allowlist.");throw e.code="DOMAIN_NOT_ALLOWED",e}return{organizationId:(i=t).organization_id,groupId:i.livechat.group_id,clientLimitExceeded:i.livechat.client_limit_exceeded,configVersion:i.livechat.config_version,localizationVersion:i.livechat.localization_version,onlineGroupIds:i.livechat.online_group_ids||[],region:e.region||null,language:i.livechat.language};var i}))},Jt=e=>{var t,n;const i="feade1d6c3f17748ae4c8d917a1e1068",r=!!(null==(t=e.properties.group[i])?void 0:t.forwardTicketFormToHelpdesk),o=null==(n=e.properties.license[i])?void 0:n.hdLicenseID;return"number"==typeof o&&o>-1&&(r||"1"===e.__priv.license["helpdesk.inbound_forwarding"])},$t=e=>{const{buttons:t,allowed_domains:n,prechat_form:i,ticket_form:r,__priv:o,properties:a,...s}=e,c="0"===o.group.tickets_enabled,l=!!!o.disable_native_tickets&&!!r,d=Jt(e),u=c||d||l;return{...s,...i&&{prechatForm:Ft(i)},...u&&r&&{ticketForm:Ft(r)},properties:a,buttons:t.map((e=>"image"===e.type?{id:e.id,type:e.type,onlineValue:ne(e.online_value),offlineValue:ne(e.offline_value)}:{id:e.id,type:e.type,onlineValue:e.online_value,offlineValue:e.offline_value})),...n&&{allowedDomains:n},__unsafeProperties:{...o.s&&{s:!0},group:{chatBoosters:o.group.chat_boosters,disabledMinimized:"1"===o.group["chat_window.disable_minimized"],disabledMinimizedOnMobile:"1"===o.group["chat_window.mobile_disable_minimized"],disabledOnMobile:"1"===o.group["chat_window.hide_on_mobile"],eyeCatcher:"1"===o.group["embedded_chat.display_eye_catcher"]?Ut(e):{enabled:!1},hasAgentAvatarsEnabled:"1"===o.group["chat_window.display_avatar"],hasCustomMobileSettings:"1"===o.group["chat_window.custom_mobile_settings"],hasHiddenTrademark:"1"===o.group["chat_window.hide_trademark"],hasSoundsEnabled:"0"===o.group["chat_window.disable_sounds"],initiallyHidden:"1"===o.group["chat_window.hide_on_init"]||"1"===o.group["chat_window.disable_minimized"],initiallyHiddenOnMobile:"1"===o.group["chat_window.mobile_hide_on_init"]||"1"===o.group["chat_window.mobile_disable_minimized"],hideOnInit:"1"===o.group["chat_window.hide_on_init"],language:o.group.language,linksUnfurlingEnabled:"1"===o.group.links_unfurling,logo:"1"===o.group["chat_window.display_logo"]?{enabled:!0,src:o.group["chat_window.logo_path"]}:{enabled:!1},minimizedType:o.group["chat_window.theme.minimized"],minimizedTypeOnMobile:o.group["chat_window.mobile_minimized_theme"],offlineMessagesEnabled:c,offsetX:parseInt(o.group["chat_window.offset_x"]),offsetXOnMobile:parseInt(o.group["chat_window.mobile_offset_x"]),offsetY:parseInt(o.group["chat_window.offset_y"]),offsetYOnMobile:parseInt(o.group["chat_window.mobile_offset_y"]),prechatFormAfterGreetingEnabled:"1"===o.group.pre_chat_survey_after_greeting,ratingEnabled:"1"===o.group["rate_me.enabled"],screenPosition:o.group["chat_window.screen_position"],screenPositionOnMobile:o.group["chat_window.mobile_screen_position"],transcriptButtonEnabled:"1"===o.group["chat_window.display_transcript_button"],theme:{name:o.group["chat_window.new_theme.name"],variant:o.group["chat_window.new_theme.variant"]||"light",customJson:o.group["chat_window.new_theme.custom_json"],agentbarBackgroundColor:o.group["chat_window.new_theme.agentbar_background_color"],agentbarText:o.group["chat_window.new_theme.agentbar_text"],agentMessageColorBackground:o.group["chat_window.new_theme.agent_message_color_background"],agentMessageColorText:o.group["chat_window.new_theme.agent_message_color_text"],backgroundColor:o.group["chat_window.new_theme.background_color"],ctaColor:o.group["chat_window.new_theme.cta_color"],minimizedColorBackground:o.group["chat_window.new_theme.minimized_color_background"],minimizedColorIcon:o.group["chat_window.new_theme.minimized_color_icon"],minimizedColorText:o.group["chat_window.new_theme.minimized_color_text"],systemMessageColor:o.group["chat_window.new_theme.system_message_color"],titlebarBackgroundColor:o.group["chat_window.new_theme.titlebar_background_color"],titlebarText:o.group["chat_window.new_theme.titlebar_text"],visitorMessageColorBackground:o.group["chat_window.new_theme.visitor_message_color_background"],visitorMessageColorText:o.group["chat_window.new_theme.visitor_message_color_text"]}},license:{creditCardMaskingEnabled:"1"===o.license.mask_credit_cards,nonProfit:"1"===o.license.non_profit,licenseinboundForwardingToHelpdeskEnabled:"1"===o.license["helpdesk.inbound_forwarding"]},helpdeskIntegrationEnabled:d,ticketFormMode:(p=e,Jt(p)?"helpdesk":"0"===p.__priv.group.tickets_enabled?"offline_message":"livechat")}};var p},Kt=e=>{const t=Yt("get_localization",e);return(n=t+"?"+F({organization_id:e.organizationId,version:e.version,language:e.language,..."number"==typeof e.groupId&&{group_id:e.groupId}}),i=i||{},new Promise((function(e,t){var r=new XMLHttpRequest,o=[],a=[],s={},c=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in r.open(i.method||"get",n,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),e(c())},r.onerror=t,r.withCredentials="include"==i.credentials,i.headers)r.setRequestHeader(l,i.headers[l]);r.send(i.body||null)}))).then((e=>e.json())).then((e=>k((e=>e.toLowerCase()),e)));var n,i},Zt=(e,t,n,i)=>{const r="https://api.openwidget.com/v1.0/configuration/"+e;return Bt((()=>Vt(r,{callbackName:"ow_config",query:{...t&&{integration_name:t},...n&&{tid:n},...i&&{test:!0}}}).then((t=>{let{staticConfig:i,localization:r,...o}=t;return{...o,...$t(i),localization:k((e=>e.toLowerCase()),r),organizationId:e,templateId:null!=n?n:0}}))),{minTime:500,maxTime:5e3,retriesCount:20})},Qt=e=>{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},en="data-lc-focus",tn="data-lc-event",nn="data-lc-prop",rn="data-lc-action",on="data-lc-action-value",an="data-lc-action-success";let sn=x;const cn=e=>{let{allowAutoplay:t,allowVideoConferencing:n,allowClipboardWrite:i,allowDisplayCapture:r}=e,o=["clipboard-read; clipboard-write;"];if(t&&!Dt()&&o.push("autoplay;"),r&&o.push("display-capture *;"),n){const e={"display-capture *;":!Mt()||Nt()>=94,"picture-in-picture *;":"PictureInPictureEvent"in window,"fullscreen *;":"function"==typeof Element.prototype.requestFullscreen};o=[].concat(o,["microphone *;","camera *;"],Object.keys((s=Boolean,a(c=e).reduce(((e,t)=>(s(c[t])&&(e[t]=c[t]),e)),{}))))}var s,c;return i&&!Dt()&&o.push("clipboard-write *;"),o.join(" ")},ln=e=>e.replace(/\?+$/,"");function dn(e,t){return oe((n=()=>me(pe(e,"state_diff"),fe((()=>e.state)),he(e.state),fe(t),se(T),Ae(pe(e,"unbind"))),(e,t)=>{if(0===e){let e=!1;t(0,(t=>{2===t&&(e=!0)})),t(1,n()),e||t(2)}}));var n}const un=(e,t)=>me(dn(e,t),Ce(1)),pn=["maximize","minimize"],mn={maximize:["feature","messageDraft"],minimize:[]},hn=(e,t)=>{const n=e.target;if(!(n instanceof Element))return;const i=n.closest("[data-openwidget-action]");if(!i)return;const r=i.getAttribute("data-openwidget-action");if(!r)return void console.error("OpenWidget: Action attribute value not found.");if(!(e=>v(e,pn))(r))return void console.error('OpenWidget: Action "'+r+'" is not allowed. Allowed actions: '+pn.join(", "));const o=((e,t)=>{const n={},i=mn[t];return i&&i.forEach((t=>{const i=e.getAttribute("data-openwidget-"+t);i&&(n[t]=i)})),n})(i,r);t[r](o)};let fn=null;const gn=()=>{if(fn)throw Error("Title notification service already initialized");fn=(()=>{try{let e=document.title,t=null,n=void 0;const i=document.querySelector("title");return i&&new MutationObserver((n=>{const i=n[0].target.textContent;i&&![e,t].includes(i)&&(e=i)})).observe(i,{subtree:!0,characterData:!0,childList:!0}),{setTitleNotification:i=>{i!==t&&(t=i,e=document.title,document.title=t,clearInterval(n),n=window.setInterval((()=>{document.title=document.title===e&&t?t:e}),2e3))},clearTitleNotification:()=>{document.title=e,clearInterval(n),t=null},getOriginalPageTitle:()=>e}}catch(e){return console.error("Error while creating title notification service",e),null}})()},vn=()=>{if(!fn)throw Error("Title notification service not initialized");return fn},_n=()=>({title:fn?fn.getOriginalPageTitle():document.title,url:ln(document.location+""),referrer:document.referrer}),wn=e=>{me(function(e,t){return re((n=>{const i=new MutationObserver(n);return i.observe(e,t),()=>{i.disconnect()}}))}(document.body,{childList:!0,subtree:!0}),fe(_n),se(((e,t)=>e.url===t.url)),Ae(pe(e,"unbind")),le((t=>{e.call("storeMethod",["setApplicationState",{page:t}])})))};var yn="application/x-postmate-v1+json",bn=0,kn={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},En=function(e,t){return("string"!=typeof t||e.origin===t)&&(!!e.data&&("object"==typeof e.data&&("postmate"in e.data&&(e.data.type===yn&&!!kn[e.data.postmate]))))},Cn=function(){function e(e){var t=this;this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.events={},this.listener=function(e){if(!En(e,t.childOrigin))return!1;var n=((e||{}).data||{}).value||{},i=n.name;"emit"===e.data.postmate&&i in t.events&&t.events[i].call(t,n.data)},this.parent.addEventListener("message",this.listener,!1)}var t=e.prototype;return t.get=function(e){var t=this;return new xn.Promise((function(n){var i=++bn;t.parent.addEventListener("message",(function e(r){r.data.uid===i&&"reply"===r.data.postmate&&(t.parent.removeEventListener("message",e,!1),n(r.data.value))}),!1),t.child.postMessage({postmate:"request",type:yn,property:e,uid:i},t.childOrigin)}))},t.call=function(e,t){this.child.postMessage({postmate:"call",type:yn,property:e,data:t},this.childOrigin)},t.on=function(e,t){this.events[e]=t},t.destroy=function(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)},e}(),In=function(){function e(e){var t=this;this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",(function(e){if(En(e,t.parentOrigin)){var n=e.data,i=n.property,r=n.uid,o=n.data;"call"!==e.data.postmate?function(e,t){var n="function"==typeof e[t]?e[t]():e[t];return xn.Promise.resolve(n)}(t.model,i).then((function(t){return e.source.postMessage({property:i,postmate:"reply",type:yn,uid:r,value:t},e.origin)})):i in t.model&&"function"==typeof t.model[i]&&t.model[i].call(t,o)}}))}return e.prototype.emit=function(e,t){this.parent.postMessage({postmate:"emit",type:yn,value:{name:e,data:t}},this.parentOrigin)},e}(),xn=function(){function e(e){var t=e.container,n=void 0===t?void 0!==n?n:document.body:t,i=e.model,r=e.url,o=e.iframeAllowedProperties;return this.parent=window,this.frame=document.createElement("iframe"),o&&(this.frame.allow=o),n.appendChild(this.frame),this.child=this.frame.contentWindow||this.frame.contentDocument.parentWindow,this.model=i||{},this.sendHandshake(r)}return e.prototype.sendHandshake=function(t){var n,i=this,r=function(e){var t=document.createElement("a");t.href=e;var n=t.protocol.length>4?t.protocol:window.location.protocol,i=t.host.length?"80"===t.port||"443"===t.port?t.hostname:t.host:window.location.host;return t.origin||n+"//"+i}(t),o=0;return new e.Promise((function(e,a){i.parent.addEventListener("message",(function t(o){return!!En(o,r)&&("handshake-reply"===o.data.postmate?(clearInterval(n),i.parent.removeEventListener("message",t,!1),i.childOrigin=o.origin,e(new Cn(i))):a("Failed handshake"))}),!1);var s=function(){o++,i.child.postMessage({postmate:"handshake",type:yn,model:i.model},r),5===o&&clearInterval(n)},c=function(){s(),n=setInterval(s,500)};i.frame.attachEvent?i.frame.attachEvent("onload",c):i.frame.addEventListener("load",c),i.frame.src=t}))},e}();xn.debug=!1,xn.Promise=function(){try{return window?window.Promise:Promise}catch(e){return null}}(),xn.Model=function(){function e(e){return this.child=window,this.model=e,this.parent=this.child.parent,this.sendHandshakeReply()}return e.prototype.sendHandshakeReply=function(){var e=this;return new xn.Promise((function(t,n){e.child.addEventListener("message",(function i(r){if(r.data.postmate){if("handshake"===r.data.postmate){e.child.removeEventListener("message",i,!1),r.source.postMessage({postmate:"handshake-reply",type:yn},r.origin),e.parentOrigin=r.origin;var o=r.data.model;return o&&Object.keys(o).forEach((function(t){e.model[t]=o[t]})),t(new In(e))}return n("Handshake Reply Failed")}}),!1)}))},e}(),xn.Promise=Promise;let Ln=function(e){let{methods:t,...n}=e;return new xn(n).then((e=>{const n=e.on,r=e.call,o=function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];return r.apply(e,n)},a=qt(),s={},c={};return t.resolveRemoteCall=e=>{let{id:t,value:n}=e;const i=c[t];delete c[t],i(n)},e.on=(t,i)=>{a.on(t,i),s[t]||(s[t]=!0,function(){for(var t=arguments.length,i=Array(t),r=0;t>r;r++)i[r]=arguments[r];n.apply(e,i)}(t,(e=>{a.emit(t,e)})))},e.off=a.off,e.on("remote-call",(n=>{let{id:i,method:r,args:a}=n;const s="function"==typeof t[r]?t[r].apply(e,a):void 0;s&&"function"==typeof s.then?s.then((e=>{o("resolveRemoteCall",{id:i,value:e})})):o("resolveRemoteCall",{id:i,value:s})})),e.emit=(e,t)=>{o("emitEvent",{event:e,data:t})},e._emit=a.emit,e.call=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return new Promise((t=>{const i=f(c);c[i]=t,o("remoteCall",{id:i,method:e,args:n})}))},i(e,t)}))};const An=window.Wix;var Tn=()=>new Promise((e=>{An.getSiteInfo((t=>{let n=t.url;const i=t.referrer||t.referer||"";t.baseUrl&&-1===n.indexOf(t.baseUrl)&&(n=t.baseUrl);e({title:t.pageTitle,referrer:i,url:n})}))}));const Pn=Promise.resolve(),zn=e=>{Pn.then(e)},On=e=>zn((()=>{throw e}));function Sn(e){return me(dn(e,(e=>Re(e,"availability"))),ce(y))}const Mn="liveChatChatId";function Nn(e){return me(dn(e,(e=>je(e,Mn).active)),Ce(1),ge((t=>t?me(dn(e,(e=>je(e,Mn).properties.currentAgent)),ce(Boolean),fe((()=>t)),xe(1)):we(t))))}function Dn(e,t){return me(pe(e,"state_diff"),fe((()=>Re(e.state,"readyState"))),ce((e=>e===t)),xe(1),Ee)}function jn(e,t){return me(Dn(e,M),ge(t))}function qn(e,t){return me(Dn(e,N),ge(t))}function Bn(e,t){return me(dn(e,(e=>Re(e,"invitation"))),fe((e=>e[t])),ce(y),ye,ce((e=>{let[t,n]=e;return n.length>t.length})),fe((e=>{let[,t]=e;return b(t)})))}const Wn=()=>window.GoogleAnalyticsObject||"ga",Hn=e=>{let{event:t,label:n,nonInteraction:i,trackerName:r}=e;const o=window[Wn()];o&&"function"==typeof o&&o([r,"send"].filter(Boolean).join("."),{hitType:"event",eventCategory:"LiveChat",eventAction:t,eventLabel:n,nonInteraction:i})},Fn={ga:Hn,gaAll:e=>{const t=window[Wn()];if(!t||"function"!=typeof t.getAll)return;const n=t.getAll();r(n)&&n.forEach((t=>{Hn({...e,trackerName:t&&"function"==typeof t.get?t.get("name"):null})}))},gaq:e=>{let{event:t,label:n,nonInteraction:i}=e;const r=window._gaq;r&&"function"==typeof r.push&&r.push(["_trackEvent","LiveChat",t,n,null,i])},gtm:e=>{let{event:t,label:n,nonInteraction:i}=e;const r=window.dataLayer;r&&"function"==typeof r.push&&r.push({event:"LiveChat",eventCategory:"LiveChat",eventAction:t,eventLabel:n,nonInteraction:i})},pageTracker:e=>{let{event:t,label:n,nonInteraction:i}=e;const r=window.pageTracker;r&&"function"==typeof r._trackEvent&&r._trackEvent("LiveChat",t,n,null,i)},urchinTracker:e=>{let{event:t}=e;const n=window.urchinTracker;n&&"function"==typeof n&&n(t)},gtag:e=>{let{event:t,label:n,nonInteraction:i}=e;const r=window.gtag;r&&"function"==typeof r&&r("event",t,{event_category:"LiveChat",event_label:n,non_interaction:i})}},Rn=e=>{let{version:t,omitGtm:n,sendToAll:i}=e;if(t&&"function"==typeof Fn[t])return i&&"ga"===t?"gaAll":t;if("object"==typeof window.pageTracker&&"function"==typeof window.pageTracker._trackEvent)return"pageTracker";if("function"==typeof window.urchinTracker)return"urchinTracker";if("function"==typeof window.gtag)return"gtag";if(!n&&"object"==typeof window.dataLayer&&"function"==typeof window.dataLayer.push)return"gtm";if("object"==typeof window._gaq)return"gaq";if(window.GoogleAnalyticsObject&&"string"==typeof window.GoogleAnalyticsObject)return i?"gaAll":"ga";if("function"==typeof window.ga){let e=!1;if(window.ga((t=>{e="object"==typeof t})),e)return i?"gaAll":"ga"}return null},Vn={Chat:"LiveChat Chat started","Automated greeting":"LiveChat Automated greeting displayed","Ticket form":"LiveChat Ticket form displayed","Ticket form filled in":"LiveChat Ticket form filled in","Pre-chat survey":"LiveChat Pre-chat survey displayed","Pre-chat survey filled in":"LiveChat Pre-chat survey filled in","Post-chat survey":"LiveChat Post-chat survey displayed","Post-chat survey filled in":"LiveChat Post-chat survey filled in"},Gn=()=>window.mixpanel&&"function"==typeof window.mixpanel.track&&"function"==typeof window.mixpanel.register,Un={googleAnalytics:e=>{let{trackerName:t}=e;return t?Fn[t]:null},kissmetrics:()=>null,mixpanel:()=>{if(!Gn())return null;return e=>{let{event:t,eventData:n,persistentData:i}=e;if(!Gn())return;const{mixpanel:r}=window;i&&(r.register(i),!Gn())||t in Vn&&r.track(Vn[t],n)}}};var Yn=(e,t)=>{let{analytics:n}=t;const i=Object.keys(n).filter((e=>n[e].enabled)).map((e=>{const t=n[e],i=Un[e];try{return i(t)}catch(e){return On(e),null}})).filter(Boolean);if(0===i.length)return;const r=function(t,n){let{group:r=Re(e.state,"group"),nonInteraction:o=!1,eventData:a={},persistentData:s=null,useDataAsLabel:c=!1}=void 0===n?{}:n;const l=0!==r?"Group ID: "+r:"(no group)",d=c?O(a).map((e=>{let[t,n]=e;return t+": "+n})).join(", "):l;i.forEach((e=>{try{e({event:t,nonInteraction:o,label:d,eventData:{...a,group:l},persistentData:s})}catch(e){On(e)}}))};me(dn(e,(e=>Re(e,"readyState"))),ce((e=>e===M)),xe(1),ge((()=>Nn(e))),ce(Boolean),le((()=>{const{email:t,name:n}=Be(e.state);r("Chat",{eventData:{email:t,name:n},persistentData:{"performed chat":!0}})}))),e.on("add_event",(e=>{let{event:{properties:t}}=e;t.invitation&&t.receivedFirstTime&&r("Automated greeting",{nonInteraction:!0})})),e.on("on_chat_booster_launched",(e=>{let{id:t,title:n}=e;r("Chat Booster Launched: "+n,{eventData:{appId:t,title:n}})})),e.on("on_prechat_survey_submitted",(()=>{r("Pre-chat survey filled in")})),e.on("on_postchat_survey_submitted",(()=>{r("Post-chat survey filled in")})),e.on("on_ticket_created",(e=>{let{visitor_email:t}=e;r("Ticket form filled in",{eventData:{email:t}})})),e.on("rich_greeting_button_clicked",(e=>{let{button:t,event:n}=e;r("Rich greeting button clicked",{eventData:{buttonText:t.text,greetingId:n.properties.id},useDataAsLabel:!0})})),["prechat","postchat","ticket","offline"].forEach((t=>{var n;me(ue(pe(e,"set_default_view"),pe(e,"set_current_view")),ce((e=>e.viewInfo&&"Chat"===e.viewInfo.view&&e.viewInfo.default===t)),Ae(pe(e,"unbind")),(n=()=>{const[n,i]={prechat:["on_prechat_survey_submitted","Pre-chat survey"],postchat:["on_postchat_survey_submitted","Post-chat survey"],ticket:["on_ticket_created","Ticket form"],offline:["on_ticket_created","Ticket form"]}[t];return me(function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return(e,n)=>{if(0!==e)return;const i=t.length;if(0===i)return n(0,(()=>{})),void n(2);let r,o=0;const a=(e,t)=>{r(e,t)};!function e(){o!==i?t[o](0,((t,i)=>{0===t?(r=i,0===o?n(0,a):r(1)):2===t&&i?n(2,i):2===t?(o++,e()):n(t,i)})):n(2)}()}}(we(i),_e),(r=me(dn(e,(e=>jt(e,"maximized"))),ce(Boolean)),s=void 0===(a=(void 0===o?{}:o).size)?100:a,function(e){return function(t,n){var i=[];if(0===t){var o,a,c=!1;e(0,(function(e,t){if(0===e&&(o=t,r(0,(function(e,t){if(0===e)(a=t)(1);else if(1===e){c=!0,a(2);var r=i.slice();i.length=0,r.forEach((function(e){return n(1,e)}))}}))),1===e)return c?void n(1,t):(i.push(t),i.length>s&&i.shift(),void o(1));n(e,t)}))}}}),Ae(pe(e,n)));var r,o,a,s},function(e){return function(t,i){if(0===t){var r,o=null,a=function(e,t){if(0!==e)return 1===e?(i(1,t),void o(1)):void(2===e&&(o=null));(o=t)(1)},s=function(e,t){2===e&&null!==o&&o(2,t),r(e,t)};e(0,(function(e,t){if(0===e)return r=t,void i(0,s);if(1!==e){if(2===e){if(i(2,t),null===o)return;o(2,t)}}else{if(null!==o)return;n(t)(0,a)}}))}}}),le((e=>{r(e)})))}))};const Xn=e=>{let{actingAsDirectLink:t,isInCustomContainer:n}=e;return t||n},Jn=()=>{const e="lc_get_time_"+h();window.performance&&"function"==typeof window.performance.mark&&window.performance.mark(e);const[{startTime:t}]=performance.getEntriesByName(e);return performance.clearMarks(e),t},$n=()=>{if("undefined"==typeof PerformanceObserver)return null;const e=Jn(),t=[],n=new PerformanceObserver((e=>{t.push.apply(t,e.getEntries())}));n.observe({entryTypes:["longtask"]});const i=()=>{const n=b(t);return n?(i=n,Jn()-i.startTime+i.duration):Jn()-e;var i};return{disconnect:()=>n.disconnect(),getLongTasks:()=>[].concat(t),waitForIdle:e=>new Promise((r=>{const o=()=>{t.push.apply(t,n.takeRecords());const a=i();e>a?setTimeout(o,Math.ceil(e-a)):r()};o()}))}},Kn=function(e){void 0===e&&(e="first-contentful-paint");const t=$n();return t?(n=e,new Promise((e=>{const t=performance.getEntriesByName(n);if(!_(t))return void e(t[0]);if("undefined"==typeof PerformanceObserver)return void e(null);const i=setTimeout((()=>{r.disconnect(),e(null)}),6e4),r=new PerformanceObserver((t=>{const o=d((e=>e.name===n),t.getEntries());o&&(r.disconnect(),clearTimeout(i),e(o))}));r.observe({entryTypes:["paint"]})}))).then((e=>e?t.waitForIdle(5e3).then((()=>(t.disconnect(),t.getLongTasks()))):null)):Promise.resolve(null);var n},Zn=e=>{const t=performance.getEntriesByName(e);return 1!==t.length?null:t[0]},Qn=(e,t)=>e&&t?Math.abs(t.startTime-e.startTime):null,ei=e=>{if(!e)return null;const t=performance.getEntriesByType("navigation");return e.startTime-(_(t)?performance.timing.domContentLoadedEventStart-performance.timing.navigationStart:t[0].domContentLoadedEventStart)},ti=()=>{if(Math.floor(10*Math.random()))return;if(Math.floor(1e3*Math.random()))return;const e=Kn().then((e=>e?P(e.filter((e=>v(".livechatinc.com",e.attribution[0].containerSrc))).map((e=>e.duration))):null));return{getLogs:()=>e.then((e=>{const t=(()=>{const e=performance.getEntriesByType("resource").filter((e=>/livechatinc\.com\/(.+\/)?tracking.js/.test(e.name)));return 1!==e.length?null:e[0]})(),n=Zn("lc_bridge_init"),i=Zn("lc_bridge_ready");return s((e=>e&&Number(e.toFixed(2))),{timeFromTrackingStart:Qn(t,i),timeFromBridgeInit:Qn(n,i),timeFromDomContentLoaded:ei(i),totalBlockingTimeContributedToOurScript:e})}))}},ni=e=>{e.innerHTML=""};var ii=(e,t)=>{const n=document.querySelectorAll(".livechat_button"),i=v(t.groupId,t.onlineGroupIds||[]);[].forEach.call(n,(n=>{const r=n.getAttribute("data-id"),o=d((e=>e.id===r),t.buttons);if(!o)return;const a=g("#","0.href",n);"image"===o.type?((e,t)=>{let{text:n,url:i,src:r}=e;ni(t);const o=$e("a",{href:i}),a=$e("img",{src:r,alt:n,title:n});o.appendChild(a),t.appendChild(o)})({url:a,text:n.textContent,src:i?o.onlineValue:o.offlineValue},n):((e,t)=>{let{text:n,url:i}=e;ni(t);const r=$e("a",{href:i});r.appendChild(document.createTextNode(n)),t.appendChild(r)})({url:a,text:i?o.onlineValue:o.offlineValue},n),n.children[0].addEventListener("click",(t=>{t.preventDefault(),e.maximize()}))}))};const ri=(e,t)=>{const n=()=>{t()||Ve(tt,e)},i=()=>{t()||Ve(nt,e)};if("onbeforeprint"in window)window.addEventListener("beforeprint",n),window.addEventListener("afterprint",i);else if(zt(window.matchMedia)){const e=window.matchMedia("print");e&&e.addListener((e=>{e.matches?n():i()}))}};var oi=(e,t,n)=>{const{eyeCatcher:i}=t.__unsafeProperties.group;if(!i.enabled||((e,t)=>{const n=e.__unsafeProperties.group;return ft(e,t)?n.disabledMinimizedOnMobile:n.disabledMinimized})(t))return;let r,o;const a=e=>{const{visibility:t,eyeCatcher:n,availability:i,readyState:r}=Re(e);return n.hidden||"minimized"!==t.state||"online"!==i||r===S},s=()=>{r&&(Je(r),r=null),clearTimeout(o)},c=()=>{const r=$e("div",rt),o=gt(t);Ve({bottom:i.y+"px",[o]:i.x+"px"},r);const c=$e("div",ot);15>i.x&&"right"===o&&Ve({[o]:10-i.x+"px"},c),c.innerHTML="&times;";const l=$e("div",at),d={...st,src:i.src,alt:n.embedded_chat_now};i.srcset&&(d.srcset=O(i.srcset).map((e=>{let[t,n]=e;return n+" "+t})).join(", "));const u=$e("img",d);return l.appendChild(u),u.addEventListener("load",(()=>{const{width:e,height:t}=u;Ve({width:e+"px",height:t+"px"},u)})),u.addEventListener("error",s),r.appendChild(c),r.appendChild(l),ri(r,(()=>a(e.state))),document.body.appendChild(r),(()=>{if(zt(window.matchMedia))return!window.matchMedia("(hover: none)").matches;return!0})()?(r.addEventListener("mouseover",(()=>{Ve({display:"block"},c)})),r.addEventListener("mouseout",(()=>{Ve({display:"none"},c)}))):Ve({display:"block"},c),r.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),e.maximize()})),c.addEventListener("mouseover",(()=>{Ve({color:"#444"},c)})),c.addEventListener("mouseout",(()=>{Ve({color:"#000"},c)})),c.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),e.call("hideEyeCatcher")})),r};me(dn(e,a),Ie({next:e=>{e?s():o=setTimeout((()=>{r=c()}),430)},complete:s}))},ai=e=>{me(function(){const e=(t=()=>!!document.hasFocus&&document.hasFocus(),(e,n)=>{if(0===e){let e=!1;n(0,(t=>{2===t&&(e=!0)})),n(1,t()),e||n(2)}});var t;const n=fe((()=>!0))(de(window,"focus")),i=fe((()=>!1))(de(window,"blur"));return ue(e,n,i)}(),Ae(pe(e,"unbind")),le((t=>{e.emit("focus",t)})))};const si=St(),ci=(e,t)=>{if(e.iframeAddress)return e.iframeAddress;if(window.__ow)return"https://cdn.livechatinc.com/widget/staging/openwidget.html";let n="https://secure-lc.livechatinc.com";return t.region&&(n=n.replace("secure","secure-"+t.region)),n+"/customer/action/open_chat"},li=(e,t,n)=>{const i=!!e.customContainer;return{page:t,license:e.licenseId,region:n.region,group:n.groupId,requestedGroup:e.requestedGroupId,customer:e.customer,hidden:!(e.actingAsDirectLink||i)&&(e=>{const t=e.__unsafeProperties.group;return si&&t.hasCustomMobileSettings?t.initiallyHiddenOnMobile:t.initiallyHidden})(n),uniqueGroups:e.uniqueGroups,analytics:{googleAnalytics:{enabled:!!n.integrations.analytics,trackerName:Rn(e.gaParams)},kissmetrics:{enabled:!!n.integrations.kissmetrics},mixpanel:{enabled:!!n.integrations.mixpanel}},actingAsDirectLink:e.actingAsDirectLink,initMaximized:e.initMaximized,isInCustomContainer:i,clientLimitExceeded:n.clientLimitExceeded,integrationName:e.integrationName,productName:e.productName,initialView:e.initialView,iframeAddress:ci(e,n)}},di="chat-widget-exit-intent-overlay";let ui;const pi=e=>{const t=document.getElementById(di);if(!t)return;t.style.opacity="0";const n=()=>{t.remove(),t.removeEventListener("transitionend",n)};t.addEventListener("transitionend",n),e.call("storeMethod",["setApplicationState",{isExitIntentShadeDisplayed:!1}]),window.removeEventListener("mouseover",ui)};let mi;var hi=(e,t)=>{if(!e)return!0;const n=function(e){const t=e.match(V);return t&&t[1]}(t);return!!n&&[].concat(e,["livechatinc.com","lc.chat"]).some((e=>{const t=n.length-e.length;return-1!==n.indexOf(e,t)&&(n.length===e.length||"."===n.charAt(t-1))}))};const fi=e=>t=>{const n=window.LC_API||{};if("function"==typeof t&&t(n),"function"==typeof n[e])try{n[e]()}catch(e){On(e)}};let gi=[];const vi=function(e){30>gi.length||(gi=gi.slice(1));for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];gi.push({name:e,args:n})},_i="always visible",wi="always hide",yi="hide until it gets activated";function bi(e,t,n){return function(i){var r;let{prettyPrint:o=!0}=void 0===i?{}:i;const{trackerName:s}=t.analytics.googleAnalytics,c=!hi(n.allowedDomains,document.location.href),l=[["window.open",!/native code/.test(window.open)],["document.domain",window.location.hostname!==document.domain],["window.frames",window.frames!==window],["JSON.stringify",!/native code/.test(window.JSON.stringify)],["JSON.parse",!/native code/.test(window.JSON.parse)],["Object.keys",!/native code/.test(Object.keys)],["console.log",!/native code/.test(console.log)]].filter((e=>{let[,t]=e;return t})).map((e=>{let[t]=e;return t})),d=a(lt.style).some((t=>e.frame.style.getPropertyValue(t)!==lt.style[t])),{desktopVisibility:u,mobileVisibility:p}=(e=>{let{disabledMinimized:t,disabledMinimizedOnMobile:n,hasCustomMobileSettings:i,hiddenOnMobile:r,initiallyHidden:o,initiallyHiddenOnMobile:a}=e,s="",c="";return s=o?t?wi:yi:_i,c=i?r?wi:a?n?wi:yi:_i:s,{desktopVisibility:s,mobileVisibility:c}})(n.__unsafeProperties.group),m=[{msg:"language: "+n.__unsafeProperties.group.language},{msg:"region: "+n.region},{msg:"license number: "+window.__lc.license},{msg:"group id: "+e.state.application.group},{msg:"hidden: "+(e.state.application.hidden?"yes":"no")},{msg:"tracker name: "+s},{msg:"desktop visibility: "+u,isNotStandard:u!==_i},{msg:"mobile visibility: "+p,isNotStandard:p!==_i},{msg:"chat between groups: "+(window.__lc.chat_between_groups?"yes":"no")},{msg:"is iframe inline style modified: "+(d?"yes":"no"),isNotStandard:d},{msg:"is current domain not allowed by the allowed domains: "+(c?"yes":"no"),isNotStandard:c},{msg:"overrides: "+(l.length>0?l.join(",\n"):"none"),isNotStandard:l.length>0},{msg:"call history: "+(gi.length>0?gi.map((e=>{let{name:t,args:n}=e;return t+"("+n.join(", ")+")"})).join(",\n"):"none"),isNotStandard:gi.length>0}];if(!o)return m;const h=m.filter((e=>{let{isNotStandard:t}=e;return t})),f=m.filter((e=>{let{isNotStandard:t}=e;return!t})),g=[].concat(h,f);return-1!==l.indexOf("console.log")?g.map((e=>{let{msg:t}=e;return t})).join("\n\n"):((r=console).log.apply(r,[g.map((e=>{let{msg:t}=e;return"%c"+t})).join("\n\n")].concat(g.map((e=>{let{isNotStandard:t}=e;return t?"color: red;":""})))),"")}}function ki(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return()=>{"function"==typeof e&&e.apply(void 0,n)}}function Ei(e,t,n){return me(pe(e,n),le((e=>zn(ki(t[n],e)))))}function Ci(e){return C(e.filter(Boolean).map((e=>{let{name:t,value:n}=e;return{[t]:n+""}})))}function Ii(e,t){const i=d((e=>{let[t,n]=e;return!n}),O((r=t,["name","email"].reduce(((e,t)=>(n(t,r)&&(e[t]=r[t]),e)),{}))));var r;if(i){const[e,t]=i;console.error("[LiveChatWidget] Customer "+e+" cannot be set to "+(""===t?"empty string":t))}else e.call("storeMethod",["requestUpdateUser",He(e.state),t])}function xi(e,t){e.call("storeMethod",["requestSetUserProperties",He(e.state),t])}function Li(e){return null!=e?e+"":null}const Ai="liveChatChatId",Ti=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return zn(ki.apply(void 0,[e].concat(n)))};function Pi(e,t,n){window.LC_API=window.LC_API||{};const i=window.LC_API;me(function(e){return me(dn(e,(e=>jt(e,"maximized"))),ce(y))}(e),le((()=>Ti(i.on_chat_window_opened)))),me(qn(e,(()=>function(e){return me(dn(e,(e=>jt(e,"minimized"))),Ce(1),ce(y))}(e))),le((()=>Ti(i.on_chat_window_minimized)))),me(function(e){return me(dn(e,(e=>jt(e,"hidden"))),ce(y))}(e),le((()=>Ti(i.on_chat_window_hidden)))),me(Sn(e),le((e=>Ti(i.on_chat_state_changed,{state:"online"===e?"online_for_chat":"offline"})))),me(qn(e,(()=>Nn(e))),ce(y),le((()=>Ti(i.on_chat_started,{agent_name:We(e.state,je(e.state,Ai).properties.currentAgent).name})))),me(qn(e,(()=>Nn(e))),ce(w),le((()=>Ti(i.on_chat_ended)))),me(qn(e,(()=>pe(e,"on_message"))),le((e=>Ti(i.on_message,e)))),me(pe(e,"widget_resize"),le((e=>{let{size:t}=e;return Ti(i.on_widget_resize,t)}))),me(function(e){return me(pe(e,"add_event"),ce((e=>{let{event:t}=e;return t.properties.invitation})),fe((t=>{let{event:n}=t;return{event:n,author:We(e.state,n.author)}})))}(e),le((e=>{let{author:t,event:{timestamp:n,properties:{text:r,receivedFirstTime:o}}}=e;Ti(i.on_message,{text:r,timestamp:n,invitation:!0,user_type:"agent",agent_login:t.id,agent_name:t.name,received_first_time:o})}))),Ei(e,i,"on_postchat_survey_submitted"),Ei(e,i,"on_prechat_survey_submitted"),Ei(e,i,"on_rating_comment_submitted"),Ei(e,i,"on_rating_submitted"),Ei(e,i,"on_ticket_created"),i.set_custom_variables=t=>{vi("LC_API.set_custom_variables",t),xi(e,Ci(t))},i.update_custom_variables=t=>{vi("LC_API.update_custom_variables",t),Ii(e,{properties:Ci(t)})},i.set_visitor_name=t=>{vi("LC_API.set_visitor_name",t),Ii(e,{name:Li(t)})},i.set_visitor_email=t=>{vi("LC_API.set_visitor_email",t),Ii(e,{email:Li(t)})},i.open_chat_window=i.show_full_view=i.open_mobile_window=()=>{vi("LC_API.open_chat_window"),e.maximize()},i.minimize_chat_window=()=>{vi("LC_API.minimize_chat_window"),Xn(t)||e.minimize()},i.hide_eye_catcher=()=>{vi("LC_API.hide_eye_catcher"),e.call("hideEyeCatcher")},i.hide_chat_window=()=>{vi("LC_API.hide_chat_window"),Xn(t)||e.hide()},i.agents_are_available=()=>(vi("LC_API.agents_are_available"),"online"===Re(e.state,"availability")),i.chat_window_maximized=()=>(vi("LC_API.chat_window_maximized"),jt(e.state,"maximized")),i.chat_window_minimized=()=>(vi("LC_API.chat_window_minimized"),jt(e.state,"minimized")),i.chat_window_hidden=()=>(vi("LC_API.chat_window_hidden"),jt(e.state,"hidden")),i.visitor_queued=()=>(vi("LC_API.visitor_queued"),je(e.state,Ai).properties.queued),i.chat_running=()=>(vi("LC_API.chat_running"),je(e.state,Ai).active),i.visitor_engaged=()=>(vi("LC_API.visitor_engaged"),i.visitor_queued()||i.chat_running()||!!je(e.state,Ai).properties.fakeAgentMessageId),i.get_window_type=()=>(vi("LC_API.get_window_type"),"embedded"),i.close_chat=()=>{vi("LC_API.close_chat"),e.call("storeMethod",["requestUpdateChat",Ai,{active:!1}])},i.diagnose=bi(e,t,n),i.get_last_visit_timestamp=()=>Re(e.state).clientLastVisitTimestamp,i.get_visits_number=()=>Re(e.state).clientVisitNumber,i.get_page_views_number=()=>Re(e.state).clientPageViewsCount,i.get_chats_number=()=>Re(e.state).clientChatNumber,i.get_visitor_id=()=>Be(e.state).serverId,i.get_chat_id=()=>je(e.state,Ai).serverId,i.trigger_sales_tracker=(e,t)=>{const n=r(t)?t:[];"string"==typeof e&&""!==e&&i.set_custom_variables([].concat(n,[{name:"__sales_tracker_"+e,value:"1"}]))},i.scriptTagVersion=()=>"LiveChatWidget"in window?window.LiveChatWidget._v:"1.0",["on","off","call","get"].forEach((e=>{i[e]=()=>{const t="LiveChatWidget"in window?'call it on the new "LiveChatWidget" global object.':"upgrade your snippet code. You can do it by going to: https://my.livechatinc.com/settings/code";console.warn('[LiveChatWidget] In order to use "'+e+'" function you need to '+t)}})),i.disable_sounds=x}const zi={handler:null,setHandler(e){this.handler=e},navigate(e,t){void 0===t&&(t="_blank"),zn((()=>{window.location.origin===U(e)&&"function"==typeof this.handler?this.handler(Z(e)):window.open(e,t)}))}},Oi="liveChatChatId",Si=e=>{let{trackerId:t,orderId:n,orderPrice:i,...r}=e;return _(r)||console.warn("When using trigger_sales_tracker, you can only pass 'trackerId', 'orderId' and 'orderPrice' as keys"),s(String,l({["__sales_tracker_"+t]:"1",__order_id:n,__order_price:i}))},Mi=e=>{let{uniqueId:t,id:n}=e;return{uniqueId:t,...n&&{id:n}}},Ni=(e,t)=>g(null,"properties",u((e=>{let{properties:n}=e;return n.uniqueId===t}),De(e.state,Oi))),Di=e=>{return t=e=>{let[t,[n]]=e;if("call"!==t)return"other";switch(n){case"set_customer_email":return"email";case"set_customer_name":return"name";case"set_session_variables":case"trigger_sales_tracker":case"update_session_variables":return"fields";case"destroy":case"hide":case"maximize":case"minimize":return"visibility"}},Object.keys(n=e).reduce(((e,i)=>{const r=n[i],o=t(r);return e[o]=e[o]||[],e[o].push(r),e}),{});var t,n};function ji(e,t,n){const i=qt(),r=window.LiveChatWidget||window.OpenWidget,o=(e,t)=>{var n;return(n={get:_,call:w,on:h,once:f,off:i.off})[e].apply(n,t)},a=(e,t)=>zn((()=>i.emit(e,t))),l=function(e){void 0===e&&(e=[]);const t=b(e);if(!t)return;const[,[n,i]]=t;w(n,i)},u=Di(r._q);var p;function m(t,n,r){switch(n){case"new_event":case"form_submitted":case"greeting_hidden":case"rating_submitted":case"visibility_changed":case"greeting_displayed":case"availability_changed":case"customer_status_changed":case"rich_message_button_clicked":return void i[t](n,r);case"ready":return void(Re(e.state,"readyState")!==S?zn((()=>r({state:g("state"),customerData:g("customer_data")}))):i[t](n,r));default:return void console.error('[LiveChatWidget] callback "'+n+'" does not exist.')}}function h(e,t){vi("LiveChatWidget.on","'"+e+"'",t),m("on",e,t)}function f(e,t){vi("LiveChatWidget.once","'"+e+"'",t),m("once",e,t)}function g(t){switch(t){case"state":{const{availability:t,visibility:n}=Re(e.state);return{availability:t,visibility:n.state}}case"chat_data":{const{serverId:t,active:n,properties:i}=je(e.state,Oi);return{chatId:t||null,threadId:(n||i.ended)&&i.lastThread||null}}case"customer_data":{const{serverId:t,name:n,email:i,properties:r}=Be(e.state),{isReturning:o}=Re(e.state),{active:a,properties:s,events:c}=je(e.state,Oi),{queued:l,fakeAgentMessageId:u}=s,p=d((e=>{let{id:t}=e;return t===u}),c),m=p&&p.properties.invitation;return{name:n,email:i,isReturning:o,sessionVariables:r,id:t,status:l?"queued":a?"chatting":m?"invited":"browsing"}}case"features":return c(Re(e.state).config.features);default:return void console.error('[LiveChatWidget] property "'+t+'" not exists.')}}function _(e){return vi("LiveChatWidget.get","'"+e+"'"),g(e)}function w(n,i){switch(vi.apply(void 0,["LiveChatWidget.call","'"+n+"'"].concat(i)),n){case"hide":case"maximize":case"minimize":if(Xn(t))return;return void e[n](i);case"destroy":return e.kill(),delete window.__lc_inited,delete window.LC_API,void delete window.LiveChatWidget;case"set_session_variables":return void xi(e,s(String,i));case"set_customer_name":return void Ii(e,{name:Li(i)});case"set_customer_email":return void Ii(e,{email:Li(i)});case"update_session_variables":return void Ii(e,{properties:s(String,i)});case"trigger_sales_tracker":return void xi(e,Si(i));case"hide_greeting":return void e.call("hideGreeting");case"set_navigation_handler":return void zi.setHandler(i);default:return void console.error('[LiveChatWidget] method "'+n+'" not exists.')}}void 0===(p=u.other)&&(p=[]),p.forEach((e=>{const[t,n]=e;o(t,n)})),l(u.visibility),l(u.name),l(u.email),(e=>{const{mode:t,properties:n}=(void 0===(i=e)&&(i=[]),i.reduce(((e,t)=>{let[,[n,i]]=t;switch(n){case"set_session_variables":return e.mode="set",e.properties=i,e;case"trigger_sales_tracker":return e.mode="set",e.properties=Si(i),e;case"update_session_variables":return"none"===e.mode&&(e.mode="update"),e.properties={...e.properties,...i},e}}),{mode:"none"}));var i;"none"!==t&&w(t+"_session_variables",n)})(u.fields),r._q=[],r._h=o,r.scriptTagVersion=()=>r._v,r.diagnose=bi(e,t,n),me(Dn(e,N),le((()=>{!function(){const e=e=>"function"==typeof e&&zn((()=>e(r)));Array.isArray(window.__lc_onready)&&(window.__lc_onready.forEach(e),window.__lc_onready={push:e})}(),a("ready",{state:g("state"),customerData:g("customer_data")})}))),me(qn(e,(()=>Sn(e))),le((e=>a("availability_changed",{availability:e})))),me(qn(e,(()=>un(e,(()=>g("state").visibility)))),le((e=>{a("visibility_changed",{visibility:e})}))),me(qn(e,(()=>un(e,(()=>g("customer_data").status)))),le((e=>a("customer_status_changed",{status:e})))),me(qn(e,(()=>Bn(e,"hiddenIds"))),fe((t=>Ni(e,t))),ce(y),le((e=>a("greeting_hidden",Mi(e))))),me(qn(e,(()=>Bn(e,"displayedIds"))),fe((t=>Ni(e,t))),ce(y),le((e=>a("greeting_displayed",Mi(e))))),me(pe(e,"on_rating_submitted"),le((e=>a("rating_submitted",e)))),me(ue(pe(e,"add_event"),pe(e,"send_event")),ce((e=>{let{event:t}=e;return v(t.type,["message","emoji","rich_message","file"])})),fe((t=>{let{event:n}=t;const{author:i,timestamp:r,properties:o}=n,a=We(e.state,i),s=!0===o.invitation;return{timestamp:r,type:n.type,author:{id:a.serverId,type:a.id===He(e.state)?"customer":"agent"},...s&&{greeting:Mi(o)}}})),le((e=>a("new_event",e)))),me(ue(me(pe(e,"send_event"),fe((e=>{let{event:t}=e;const{type:n,properties:i}=t;if("rich_message_postback"===n){const{eventId:e}=i;return{postbackId:"postback"in i?i.postback.id:i.id,eventId:e}}if("message"===n&&i.triggeredBy){const{event:e,button:t}=i.triggeredBy,{postbackId:n}=t;return{postbackId:n,eventId:e}}return null})),ce(y)),me(pe(e,"rich_greeting_button_clicked"),fe((e=>{let{event:t,button:n}=e;const{id:i,properties:r}=t,{postbackId:o}=n;return{eventId:i,postbackId:o,greeting:Mi(r)}})))),le((e=>a("rich_message_button_clicked",e)))),me(ue(me(pe(e,"on_ticket_created"),fe((()=>"ticket"))),me(pe(e,"on_prechat_survey_submitted"),fe((()=>"prechat"))),me(pe(e,"on_postchat_survey_submitted"),fe((()=>"postchat")))),le((e=>a("form_submitted",{type:e}))))}const qi={position:Ot()?"absolute":"fixed",height:Ot()?"calc(100vh - env(safe-area-inset-bottom))":"100%",width:"100%",top:0,right:0,bottom:0,left:0,overflowY:"hidden"};var Bi,Wi=e=>{const t=document.querySelector('meta[name="viewport"]')||(()=>{const e=$e("meta",{name:"viewport"});return document.getElementsByTagName("head")[0].appendChild(e),e})();let n=null;const i=()=>{const e=t.content,i=(r=document.body,Object.keys(qi).reduce(((e,t)=>(e[t]=r.style[t],e)),{}));var r;const{scrollTop:o}=document.documentElement;return t.content="width=device-width, initial-scale=1.0, maximum-scale=1.0",Ve(qi,document.body),()=>{n=null,Ve(i,document.body),t.content=e,document.documentElement.scrollTop=o}};jt(e.state,"maximized")&&(n=i()),me(dn(e,(e=>jt(e,"maximized"))),ye,Ie({next:e=>{let[,t]=e;t?n=i():n()},complete:()=>{n&&n()}}))},Hi=e=>{var t;me((t=2e3,(e,n)=>{if(0!==e)return;let i=0;const r=setInterval((()=>{n(1,i++)}),t);n(0,(e=>{2===e&&clearInterval(r)}))}),fe(_n),se(((e,t)=>e.url===t.url)),Ae(pe(e,"unbind")),le((t=>{e.call("storeMethod",["setApplicationState",{page:t}])})))};!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Bi||(Bi={}));var Fi=1,Ri=/[^a-z1-6-]/;function Vi(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).reduce((function(e,t){return e+(function(e){return"styleSheet"in e}(n=t)?Vi(n.styleSheet)||"":n.cssText);var n}),""):null}catch(e){return null}}var Gi=/url\((?:'([^']*)'|"([^"]*)"|([^)]*))\)/gm,Ui=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/).*/,Yi=/^(data:)([\w\/\+\-]+);(charset=[\w-]+|base64).*,(.*)/i;function Xi(e,t){return(e||"").replace(Gi,(function(e,n,i,r){var o,a=n||i||r;if(!a)return e;if(!Ui.test(a))return"url('"+a+"')";if(Yi.test(a))return"url("+a+")";if("/"===a[0])return"url('"+(((o=t).indexOf("//")>-1?o.split("/").slice(0,3).join("/"):o.split("/")[0]).split("?")[0]+a+"')");var s=t.split("/"),c=a.split("/");s.pop();for(var l=0,d=c;d.length>l;l++){var u=d[l];"."!==u&&(".."===u?s.pop():s.push(u))}return"url('"+s.join("/")+"')"}))}function Ji(e,t){if(!t||""===t.trim())return t;var n=e.createElement("a");return n.href=t,n.href}function $i(e,t,n){return"src"===t||"href"===t&&n?Ji(e,n):"srcset"===t&&n?function(e,t){return""===t.trim()?t:t.split(",").map((function(t){var n=t.trimLeft().trimRight().split(" ");return 2===n.length?Ji(e,n[0])+" "+n[1]:1===n.length?""+Ji(e,n[0]):""})).join(",")}(e,n):"style"===t&&n?Xi(n,location.href):n}function Ki(e,t,n,i,r){switch(void 0===r&&(r={}),e.nodeType){case e.DOCUMENT_NODE:return{type:Bi.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Bi.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId};case e.ELEMENT_NODE:var o=!1;"string"==typeof n?o=e.classList.contains(n):e.classList.forEach((function(e){n.test(e)&&(o=!0)}));for(var a=function(e){var t=e.toLowerCase().trim();return Ri.test(t)?"div":t}(e.tagName),s={},c=0,l=Array.from(e.attributes);l.length>c;c++){var d=l[c],u=d.name;s[u]=$i(t,u,h=d.value)}if("link"===a&&i){var p,m=Array.from(t.styleSheets).find((function(t){return t.href===e.href}));(p=Vi(m))&&(delete s.rel,delete s.href,s._cssText=Xi(p,m.href))}if("style"===a&&e.sheet&&!(e.innerText||e.textContent||"").trim().length)(p=Vi(e.sheet))&&(s._cssText=Xi(p,location.href));if("input"===a||"textarea"===a||"select"===a){var h=e.value;"radio"!==s.type&&"checkbox"!==s.type&&"submit"!==s.type&&"button"!==s.type&&h?s.value=r[s.type]||r[a]?"*".repeat(h.length):h:e.checked&&(s.checked=e.checked)}if("option"===a)s.value===e.parentElement.value&&(s.selected=e.selected);if("canvas"===a&&(s.rr_dataURL=e.toDataURL()),"audio"!==a&&"video"!==a||(s.rr_mediaState=e.paused?"paused":"played"),o){var f=e.getBoundingClientRect(),g=f.height;s.rr_width=f.width+"px",s.rr_height=g+"px"}return{type:Bi.Element,tagName:a,attributes:s,childNodes:[],isSVG:(y=e,"svg"===y.tagName||y instanceof SVGElement||void 0),needBlock:o};case e.TEXT_NODE:var v=e.parentNode&&e.parentNode.tagName,_=e.textContent,w="STYLE"===v||void 0;return w&&_&&(_=Xi(_,location.href)),"SCRIPT"===v&&(_="SCRIPT_PLACEHOLDER"),{type:Bi.Text,textContent:_||"",isStyle:w};case e.CDATA_SECTION_NODE:return{type:Bi.CDATA,textContent:""};case e.COMMENT_NODE:return{type:Bi.Comment,textContent:e.textContent||""};default:return!1}var y}function Zi(e,t,n,i,r,o,a){void 0===r&&(r=!1),void 0===o&&(o=!0);var s,c=Ki(e,t,i,o,a);if(!c)return console.warn(e,"not serialized"),null;s="__sn"in e?e.__sn.id:Fi++;var l=Object.assign(c,{id:s});e.__sn=l,n[s]=e;var d=!r;if(l.type===Bi.Element&&(d=d&&!l.needBlock,delete l.needBlock),(l.type===Bi.Document||l.type===Bi.Element)&&d)for(var u=0,p=Array.from(e.childNodes);p.length>u;u++){var m=Zi(p[u],t,n,i,r,o,a);m&&l.childNodes.push(m)}return l}const Qi=()=>{const e=function(e,t,n,i){void 0===t&&(t="rr-block"),void 0===n&&(n=!0);var r={};return[Zi(e,e,r,t,!1,n,!0===i?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0}:!1===i?{}:i),r]}(window.document);return JSON.stringify(e[0])};function er(e,t){return null!=t&&null!=e&&"object"==typeof t&&"object"==typeof e?tr(t,e):e}function tr(e,t){let i;if(Array.isArray(e)){i=e.slice(0,t.length);for(let e=0;t.length>e;e++)void 0!==t[e]&&(i[e]=er(t[e],i[e]))}else{i={...e};for(const e in t)n(e,t)&&(void 0===t[e]?delete i[e]:i[e]=er(t[e],i[e]))}return i}var nr=e=>new Promise((t=>{const n=i=>{e.off("state",n),e.state=i,t(i)};e.on("state",n),e.on("state_diff",(t=>{e.state=tr(e.state,t)})),e.on("store_event",(t=>{let[n,i]=t;e._emit(n,i)})),e.call("startStateSync")}));const ir=St(),rr=e=>ir?{width:"100%",height:"100%"}:"modern"===e.__unsafeProperties.group.theme.name?{width:"400px",height:"465px"}:{width:"392px",height:"714px"},or=(e,t)=>Object.keys(e.properties.license).some((n=>e.properties.license[n][t])),ar=(e,t,n)=>{const i=vt(t,ir);return!e&&n?{[gt(t,ir)]:"0",bottom:i.y+"px",maxHeight:"100%"}:ir&&e?{[gt(t,ir)]:"0",bottom:"0",maxHeight:"100%"}:{[gt(t,ir)]:i.x+"px",bottom:i.y+"px",maxHeight:"calc(100% - "+i.y+"px)"}},sr=e=>e.style.setProperty("transition","none","important"),cr=e=>{const t=document.createElement("div");return Ge((e=>({"aria-live":e,id:ut(e),tabIndex:-1,style:{"clip-path":"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",overflow:"hidden","white-space":"nowrap",border:"0px",padding:"0px",position:"absolute"}}))(e),t),t},lr=(e,t)=>{const n=$e("div",it),i=vt(e,ir),r=ar(t,e),{width:o,height:a}=rr(e);return Ve({width:o,height:a,[gt(e,ir)]:i.x+"px",...r},n),n},dr=(e,t,n,i,r,o,a)=>{var s,c;let u=F(l({license_id:t.license,group:t.group,embedded:1,widget_version:3,initial_view:t.initialView,unique_groups:Number(t.uniqueGroups),...!!i&&{custom_identity_provider:1},...!!r&&{use_parent_storage:1},...!!o&&{features:o},..."openwidget"===a?{organizationId:t.organizationId}:{}}));gn();const p={kill(){this._emit("widget_resize",{size:{width:"0px",height:"0px"}}),this.unbind(),e.custom||Je(e.element)},applyHiddenStyles(){Ve(tt,e.element)},isFocused:()=>!!document.hasFocus&&document.hasFocus(),resize(t){let{width:i,height:r,maximized:o,ignoreHorizontalOffset:a}=void 0===t?{}:t;const s={width:i,height:r},c=ar(o,n,a);Ve({...s,...c},e.element);const l=Ye(["width","height"],e.element);this._emit("widget_resize",{size:s,computedSize:l})},show(){Ve(nt,e.element)},hide(){this.call("hide")},focusMinimized(){const e=document.getElementById(Ze);if(e&&e.contentDocument){const t=e.contentDocument.querySelector("button");t&&t.focus()}},minimize(){this.call("minimize")},maximize(e){const{activeElement:t}=document,n=window.event&&window.event.isTrusted?window.event.type:null,i=()=>{t.removeEventListener("blur",i),this.emit("host_focus_shifted")};t.addEventListener("blur",i),this.call("maximize",n,e)},unbind(){this.hide(),this.destroy(),this._emit("unbind"),this.off(),this.call=x,Object.keys(p).forEach((e=>{this[e]=x}))},callIdentityProvider:e=>null==i?void 0:i[e](),callParentStorageMethod(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return null==r?void 0:r[e].apply(r,n)},applyFramesStyle(e){let{minimizedFrameStyle:t,maximizedFrameStyle:n}=e;const i=document.getElementById(Ke),r=document.getElementById(Ze);i&&Ve(n,i),r&&Ve(t,r)},setLiveAnnouncerMessage(e){let{message:t,ariaLevel:n}=e;const i=document.getElementById(ut(n));i?i.textContent=t:console.error('[LiveChat] Aria announcer element with level "'+n+'" not found')},renderCrossFrameMarkup(t){let[n,i]=t,r=document.getElementById(Ze);r||(r=document.createElement("iframe"),Ge({...dt,title:"openwidget"===a?et:Qe},r),e.element.appendChild(r),e.element.appendChild(cr("polite")),e.element.appendChild(cr("assertive")),r.contentDocument.fonts.ready.then((()=>this.emit("minimized_frame_fonts_ready"))).catch(x)),function(e,t,n,i){var r;const o=n.contentDocument,a=null!=(r=i.state.application.language)?r:"en";if(null===o)throw Error("Parameter `frame` needs to be inserted into any document before rendering");Mt()?(o.documentElement.lang=a,o.head.innerHTML=e,o.body.innerHTML=t):(o.open(),o.write('\n\t\t\t<!DOCTYPE html>\n\t\t\t<html lang="'+a+'">\n\t\t\t\t<head>'+e+"</head>\n\t\t\t\t<body>"+t+"</body>\n\t\t\t</html>\n\t\t"),o.close());const s=o.documentElement,c=z(s.querySelectorAll("["+tn+"]"));for(const e of c){const t=e.getAttribute(tn);if("string"==typeof t)for(const n of t.split(";")){const[t,r]=n.split(":");t&&r&&(e.removeAttribute(tn),e.addEventListener(t,(n=>{var o,a,s,c,l,d,u,p,m,h;n.stopPropagation();const f={type:n.type,bubbles:!0,isTrusted:n.isTrusted,cancelBubble:n.cancelBubble,cancelable:n.cancelable,composed:n.composed,defaultPrevented:n.defaultPrevented,eventPhase:n.eventPhase,timeStamp:n.timeStamp,currentTarget:{value:null==(o=n.currentTarget)?void 0:o.value,checked:null==(a=n.currentTarget)?void 0:a.checked,disabled:null==(s=n.currentTarget)?void 0:s.disabled,draggable:null==(c=n.currentTarget)?void 0:c.draggable,hidden:null==(l=n.currentTarget)?void 0:l.hidden},target:{value:null==(d=n.target)?void 0:d.value,checked:null==(u=n.target)?void 0:u.checked,disabled:null==(p=n.target)?void 0:p.disabled,draggable:null==(m=n.target)?void 0:m.draggable,hidden:null==(h=n.target)?void 0:h.hidden}};if("click"===t&&"copy"===e.getAttribute(rn))return g=e.getAttribute(on),navigator.clipboard?navigator.clipboard.writeText(g).catch(Qt):Qt(g),void(e.innerHTML=e.getAttribute(an));var g;i.call("crossFrameEvent",r,JSON.stringify(f))})))}}const l=s.querySelector("["+en+"]");l&&(l.removeAttribute(en),l.focus(),"INPUT"===l.nodeName)&&l.setSelectionRange(l.value.length,l.value.length);const d=[],u=z(s.querySelectorAll("["+nn+"]"));for(const e of u){const t=e.getAttribute(nn);if("string"!=typeof t)continue;e.removeAttribute(nn);const[n,i]=t.split(":");d.push((t=>{var r;let o=null==(r=t.views)||null==(r=r.minimized)?void 0:r[i.replace("!","")];"string"==typeof o&&(o=o.trim()),"disabled"===n&&(o=i.includes("!")?!o:!!o),"boolean"==typeof o?e.toggleAttribute(n,o):o?e.setAttribute(n,o):e.removeAttribute(n)}))}d.forEach((e=>e(i.state))),i.off("state_diff",sn),sn=e=>{var t;null!=e&&null!=(t=e.views)&&t.minimized&&d.forEach((t=>t(e)))},i.on("state_diff",sn)}(n,i,r,this)},getMinimizedDimensions(){const e=document.getElementById(Ze).contentDocument.querySelector('[role="main"]');return Ye(["width","height"],e)},callElementMethod(e){var t,n;let[i,r,...o]=e;null==(t=document.getElementById(Ze).contentDocument.querySelector(i))||null==(n=t[r])||n.call.apply(n,[t].concat(o))},getElementProperties(e){let[t,n]=e;const i=document.getElementById(Ze),r=i&&i.contentDocument.querySelector(t);return r?L(n,r):{}},setTitleNotification(e){const t=vn();e?t.setTitleNotification(e):t.clearTitleNotification()}},m=t.iframeAddress+"?"+u,h=new MutationObserver((t=>t.forEach((t=>{const n=d((e=>"IFRAME"===e.tagName&&e.getAttribute("src")===m),t.addedNodes);n&&((e,t,n)=>{Ge({...lt,title:"openwidget"===n?et:Qe},t),e.custom||Ve(ct,t)})(e,n,a)}))));return h.observe(e.element,{childList:!0}),new Ln({container:e.element,url:m,methods:p,iframeAllowedProperties:cn({allowAutoplay:!0,allowVideoConferencing:or(n,"microphone"),allowClipboardWrite:or(n,"clipboard_write"),allowDisplayCapture:1520===t.license||!1}),model:{...t,fullWidth:null==(s=e.size)?void 0:s.width,fullHeight:null==(c=e.size)?void 0:c.height,serverConfig:n,parentWidth:window.innerWidth,parentHeight:window.innerHeight,defaultWidget:a}}).then((e=>Promise.all([e,nr(e)]))).then((e=>{let[t]=e;return h.disconnect(),t}))},ur=(e,t,n,i,r,o)=>{e.call("storeMethod",["setLocalization",i]),ht(e),n.custom||ri(n.element,(()=>jt(e.state,"hidden"))),ir||"wix"===t.integrationName||oi(e,r,i),sr(e.frame),function(e,t,n){Pi(e,t,n),("LiveChatWidget"in window||"OpenWidget"in window)&&ji(e,t,n)}(e,t,r),Yn(e,t),me(jn(e,(()=>((e=>{let t=!1;e.on("iframe_sound_unlocked",(()=>t=!0)),Pt().then((n=>{t||(e.emit("bridge_sound_unlocked"),e.on("add_event",(t=>{let{event:i}=t;Re(e.state,"muted")||((e,t)=>"system"!==e.author&&!e.properties.welcomeMessage&&e.author!==t&&"custom"!==e.type)(i,He(e.state))&&n(_t)})),e.on("reaction_received",(t=>{let{event:i}=t;Re(e.state,"muted")||He(e.state)===i.author&&n(_t)})))}))})(e),_e))),le(x)),"wix"===t.integrationName?(e=>{An.addEventListener(An.Events.PAGE_NAVIGATION,(()=>{Tn().then((t=>e.call("storeMethod",["setApplicationState",{page:t}])))}))})(e):(Hi(e),"openwidget"===o&&(wn(e),(e=>{const t=t=>hn(t,e);me(dn(e,(e=>e.application.readyState)),ce((e=>e===M)),xe(1),le((()=>{document.addEventListener("click",t)}))),me(pe(e,"unbind"),le((()=>{document.removeEventListener("click",t)})))})(e))),ai(e);t.actingAsDirectLink||n.custom||function(e){me(dn(e,(e=>jt(e,"hidden"))),Ce(1),le((t=>{t?e.applyHiddenStyles():e.show()})))}(e),pt(e),function(e){const t=()=>{setTimeout((()=>{document.addEventListener("touchstart",x),setTimeout((()=>{document.removeEventListener("touchstart",x)}),500)}),500)};window.addEventListener("orientationchange",t);const n=()=>{e.off("unbind",n),window.removeEventListener("orientationchange",t)};e.on("unbind",n)}(e),ii(e,r),ir&&Wi(e),(e=>{me(jn(e,(()=>pe(e,"add_event"))),ce((e=>{let{event:t}=e;return"custom"===t.type&&t.properties.customId&&-1!==t.properties.customId.indexOf("cyber-finger-snapshot-request-")})),le((t=>{let{event:n}=t;const i=n.properties.customId.replace("cyber-finger-snapshot-request-","");try{const t=Qi();e.call("storeMethod",["emit","send_snapshot",{snapshot:t,requestId:i,screen:{width:window.innerWidth,height:window.innerHeight,scrollY:window.pageYOffset,scrollX:window.pageXOffset}}])}catch(e){}})))})(e),e.on("rich_greeting_button_clicked",(e=>{let{button:t}=e;"url"===t.type&&zi.navigate(t.value,"current"===t.target?"_parent":"_blank")})),e.on("open_in_new_tab",(e=>{zi.navigate(e)})),e.on("register_exit_intent_listener",(()=>{const t=((e,t)=>{const n=n=>{n.currentTarget&&n.relatedTarget||(e.call("storeMethod",["emit","exit_intent_detected"]),t())};return window&&(mi&&window.removeEventListener("mouseout",mi),window.addEventListener("mouseout",n),mi=n),()=>{window&&window.removeEventListener("mouseout",n)}})(e,(()=>{t()}))})),e.on("apply_exit_intent_shade",(()=>{((e,t)=>{t.call("storeMethod",["setApplicationState",{isExitIntentShadeDisplayed:!0}]);const n=document.createElement("div");n.id=di,Ve((e=>({position:"fixed",bottom:"0",[e]:"0",width:"100%",height:"100%",background:"linear-gradient(to "+("left"===e?"right":"left")+" top, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0))",zIndex:999999,"pointer-events":"none",opacity:0,transition:"opacity 100ms ease-in-out"}))(e),n),document.body.appendChild(n),setTimeout((()=>{n.style.opacity="1"}),0),ui&&window.removeEventListener("mouseover",ui),ui=()=>pi(t),window.addEventListener("mouseover",ui)})(gt(r,!1),e)})),e.on("remove_exit_intent_shade",(()=>{pi(e)}))};var pr=(e,t)=>{window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("lc_bridge_init");let n=!1,i=e;window.LC_API=window.LC_API||{},window.LC_API.is_loaded=()=>n;const{region:r,licenseId:o,organizationId:a,requestedGroupId:s,actingAsDirectLink:c,skipCodeInstallationTracking:d,integrationName:u,productName:p,customIdentityProviderInitializer:m,templateId:h}=t,f={licenseId:o,skipCodeInstallationTracking:d,productName:p,integrationName:u,channelType:c?"direct_link":"code",url:ln(document.location+""),..."number"==typeof s&&{groupId:s},..."string"==typeof r&&{region:r}},g="livechat"===i?(e=>Xt(e).then((t=>{return Promise.all([t,(n={organizationId:t.organizationId,licenseId:e.licenseId,groupId:t.groupId,region:t.region,version:t.configVersion},Vt(Yt("get_configuration",n),{callbackName:"lc_static_config",query:{organization_id:n.organizationId,version:n.version,..."number"==typeof n.groupId&&{group_id:n.groupId}}}).then((e=>$t(e))))]).then((e=>{let[t,n]=e;return{...t,...n}}));var n})))(f).catch((e=>{if("DEFAULT_WIDGET_NOT_LIVECHAT"===e.code&&"openwidget"===e.defaultWidget)return i=e.defaultWidget,window.__ow=window.__ow||{},window.__ow.organizationId=e.organizationId,window.OpenWidget={...window.LiveChatWidget},Zt(e.organizationId);throw e})):Zt(a,u,h,d);Promise.all([g,"wix"===u?Tn():_n(),Xe()]).then((e=>{let[r,o,s]=e;if(!hi(r.allowedDomains,window.top===window?window.location.hostname:document.referrer))return void console.log("[LiveChat] Current domain is not added to the allowed domains. LiveChat has been disabled.");if("openwidget"===i&&!1===r.isWidgetEnabled)return;if(ir&&r.__unsafeProperties.group.disabledOnMobile&&!t.actingAsDirectLink)return;const c=ti(),d=(e=>{if(null===e)return null;const t=e();return"object"!=typeof t||"function"!=typeof t.getToken||"function"!=typeof t.getFreshToken||"function"!=typeof t.hasToken||"function"!=typeof t.invalidate?(console.error("custom_identity_provider() does not return proper handlers. ({getFreshToken: () => Promise<Token>, getToken: () => Promise<Token>, hasToken: () => Promise<boolean>, invalidate: () => Promise<void> })"),null):t})(m),u=window.localStorage,p=li(t,o,r),h=((e,t)=>e.customContainer?{custom:!0,element:e.customContainer}:{custom:!1,element:lr(t,e.actingAsDirectLink),size:rr(t)})(t,r),f={};let g=!1;const v=fi("on_before_load"),_=fi("on_after_load");v((e=>{e.disable_sounds=x,e.mobile_is_detected=()=>ir,e.chat_running=()=>!1,e.visitor_engaged=()=>!1,e.agents_are_available=()=>-1!==r.onlineGroupIds.indexOf(r.groupId),e.get_window_type=()=>"embedded",e.hide_chat_window=Xn(p)?x:()=>g=!0,e.set_visitor_name=e=>f.name=Li(e),e.set_visitor_email=e=>f.email=Li(e),e.set_custom_variables=e=>f.properties=e?Ci(e):{},e.update_custom_variables=e=>{e&&(f.properties={...f.properties,...Ci(e)})}}));const w={...p,...r.licenseId&&{license:r.licenseId},customer:{...p.customer,...f},hidden:p.hidden||g,...a?{organizationId:a}:{organizationId:r.organizationId}};var y;h.custom||s.appendChild(h.element),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("lc_bind_child"),Promise.all([dr(h,w,r,d,u,null,i),"openwidget"===i?Promise.resolve(r.localization):(y={organizationId:w.organizationId,licenseId:w.license,groupId:w.group,region:w.region,version:r.localizationVersion,language:r.__unsafeProperties.group.language},Vt(Yt("get_localization",y),{callbackName:"lc_localization",query:{organization_id:y.organizationId,version:y.version,language:y.language,..."number"==typeof y.groupId&&{group_id:y.groupId}}}).then((e=>k((e=>e.toLowerCase()),e))))]).then((e=>{let[t,n]=e;return h.custom||sr(h.element),ur(t,w,h,n,r,i),me(dn(t,(e=>Re(e,"readyState"))),ce((e=>e===M)),xe(1),fe((()=>t)),Te)})).then((e=>{window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("lc_bridge_ready"),c&&c.getLogs().then((t=>{e.call("logInfo","loading_time_measured",l(t))})),_((()=>n=!0)),"openwidget"===i||Math.floor(10*Math.random())||setTimeout((()=>{Kt({organizationId:w.organizationId,licenseId:p.license,groupId:p.group,region:p.region,version:r.localizationVersion,language:r.__unsafeProperties.group.language}).catch((()=>{e.call("logInfo","potential_csp_problem",{url:window.location+""})}))}),1e4)}))})).catch((e=>{switch(null==e?void 0:e.code){case"ACCESS_NOT_RESOLVED":case"CUSTOMER_BANNED":return void console.warn("[LiveChat] "+e.message);default:throw e}}))};function mr(){Xe().then((e=>{["https://cdn.livechatinc.com/widget/staging/static/js/configurator.B3vI5ovA.js"].forEach((t=>{((e,t)=>{const n=document.createElement("script");Ge({src:t,type:"module",charset:"utf-8"},n),e.appendChild(n)})(e.ownerDocument.head,t)}))}))}const hr=(e,t)=>{const n={name:null,email:null,properties:{}};if("object"==typeof e&&e){const t=e.name,i=e.email;"string"==typeof t&&(n.name=t),"string"==typeof i&&(n.email=i)}return Array.isArray(t)&&(n.properties=Ci(t)),n},fr=e=>{if(e.wix)return"wix";if("string"==typeof e.integration_name)return e.integration_name;if("google_tag_manager"in window)try{if(void 0!==Array.from(document.getElementsByTagName("script")).find((e=>{var t;return null==(t=e.textContent)?void 0:t.startsWith("window.__lc")})))return"potentially_gtm"}catch{}return null},gr=()=>{if(window.__lc_inited=!0,"msCrypto"in window)return void console.error("[LiveChat] We no longer support Internet Explorer");if(3!==[1].reduce(((e,t)=>e+t),2))return void console.error("[LiveChat] This site has overriden Array.prototype.reduce (for example by using Prototype library) to a version that is not compatible with Web standards. LiveChat code couldn't be initialized because of this.");const e=(t=window.__lc,{licenseId:parseInt(t.license),requestedGroupId:j(t),uniqueGroups:!1===t.chat_between_groups,customer:hr(t.visitor,t.params),skipCodeInstallationTracking:1===t.test,integrationName:fr(t),productName:t.product_name||null,actingAsDirectLink:!0===t.direct_link,initMaximized:!0===t.init_maximized,initialView:"string"==typeof t.initial_view?t.initial_view:null,customContainer:t.custom_container||null,gaParams:{version:"string"==typeof t.ga_version?t.ga_version:null,omitGtm:!!t.ga_omit_gtm,sendToAll:!!t.ga_send_to_all_trackers},customIdentityProviderInitializer:"function"==typeof t.custom_identity_provider?t.custom_identity_provider:null,iframeAddress:null,region:v(t.region,(n=D,a(n).map((e=>n[e]))))?t.region+"":null});var t,n;e.actingAsDirectLink||!ie()?pr("livechat",e):mr()};window.__lc_inited||gr()}();
